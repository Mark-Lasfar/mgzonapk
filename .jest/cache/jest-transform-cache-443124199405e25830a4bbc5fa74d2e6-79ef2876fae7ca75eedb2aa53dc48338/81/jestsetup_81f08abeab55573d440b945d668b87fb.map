{"version":3,"sources":["/home/mark/Music/my-nextjs-project-clean/jest.setup.js"],"sourcesContent":["// Import testing libraries\nimport '@testing-library/jest-dom'\nimport { TextDecoder, TextEncoder } from 'util'\n\n// Mock Node.js modules\njest.mock('fs', () => ({\n  readFileSync: jest.fn(),\n  writeFileSync: jest.fn(),\n  existsSync: jest.fn(),\n  mkdirSync: jest.fn(),\n}));\n\njest.mock('net', () => ({}));\njest.mock('tls', () => ({}));\njest.mock('http2', () => ({}));\n\n// Mock nodemailer\njest.mock('nodemailer', () => ({\n  createTransport: jest.fn().mockReturnValue({\n    sendMail: jest.fn().mockResolvedValue({ messageId: 'mock-message-id' }),\n    verify: jest.fn().mockResolvedValue(true),\n  }),\n}));\n\n// Mock firebase-admin\njest.mock('firebase-admin', () => ({\n  initializeApp: jest.fn(),\n  messaging: jest.fn().mockReturnValue({\n    send: jest.fn().mockResolvedValue({}),\n  }),\n}));\n\n// Mock fetch API\nglobal.fetch = jest.fn()\n\n// Mock window.matchMedia\nwindow.matchMedia = jest.fn().mockImplementation((query) => ({\n  matches: false,\n  media: query,\n  onchange: null,\n  addListener: jest.fn(),\n  removeListener: jest.fn(),\n  addEventListener: jest.fn(),\n  removeEventListener: jest.fn(),\n  dispatchEvent: jest.fn(),\n}))\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = class IntersectionObserver {\n  constructor(callback, options) {\n    this.callback = callback\n    this.options = options\n  }\n\n  observe = jest.fn()\n  unobserve = jest.fn()\n  disconnect = jest.fn()\n}\n\n// Mock ResizeObserver\nglobal.ResizeObserver = class ResizeObserver {\n  constructor(callback) {\n    this.callback = callback\n  }\n\n  observe = jest.fn()\n  unobserve = jest.fn()\n  disconnect = jest.fn()\n}\n\n// Mock window location\ndelete window.location\nwindow.location = {\n  protocol: 'http:',\n  host: 'localhost:3000',\n  hostname: 'localhost',\n  port: '3000',\n  pathname: '/',\n  search: '',\n  hash: '',\n  href: 'http://localhost:3000/',\n  origin: 'http://localhost:3000',\n  assign: jest.fn(),\n  replace: jest.fn(),\n  reload: jest.fn(),\n}\n\n// Mock scrollTo\nwindow.scrollTo = jest.fn()\n\n// Mock text encoder/decoder\nglobal.TextEncoder = TextEncoder\nglobal.TextDecoder = TextDecoder\n\n// Mock localStorage\nconst localStorageMock = (() => {\n  let store = {}\n  return {\n    getItem: (key) => store[key] || null,\n    setItem: (key, value) => {\n      store[key] = String(value)\n    },\n    removeItem: (key) => {\n      delete store[key]\n    },\n    clear: () => {\n      store = {}\n    },\n    length: Object.keys(store).length,\n    key: (index) => Object.keys(store)[index] || null,\n  }\n})()\n\nObject.defineProperty(window, 'localStorage', {\n  value: localStorageMock,\n})\n\n// Mock sessionStorage\nObject.defineProperty(window, 'sessionStorage', {\n  value: localStorageMock,\n})\n\n// Mock clipboard API\nObject.defineProperty(navigator, 'clipboard', {\n  value: {\n    writeText: jest.fn(),\n    readText: jest.fn(),\n  },\n})\n\n// Mock window.URL\nwindow.URL.createObjectURL = jest.fn()\nwindow.URL.revokeObjectURL = jest.fn()\n\n// Mock console methods\nconsole.error = jest.fn()\nconsole.warn = jest.fn()\nconsole.log = jest.fn()\n\n// Mock window dimensions\nObject.defineProperty(window, 'innerWidth', {\n  writable: true,\n  configurable: true,\n  value: 1024,\n})\n\nObject.defineProperty(window, 'innerHeight', {\n  writable: true,\n  configurable: true,\n  value: 768,\n})\n\n// Mock requestAnimationFrame\nglobal.requestAnimationFrame = (callback) => setTimeout(callback, 0)\nglobal.cancelAnimationFrame = jest.fn()\n\n// Mock MutationObserver\nglobal.MutationObserver = class {\n  constructor(callback) {\n    this.callback = callback\n  }\n\n  disconnect = jest.fn()\n  observe = jest.fn()\n  takeRecords = jest.fn()\n}\n\n// Extend Jest matchers\nexpect.extend({\n  toBeValidDate(received) {\n    const pass = received instanceof Date && !isNaN(received)\n    return {\n      pass,\n      message: () =>\n        `expected ${received} to be a valid Date${pass ? ' not' : ''}`,\n    }\n  },\n})\n\n// Mock Image class\nglobal.Image = class {\n  constructor() {\n    setTimeout(() => {\n      if (this.onload) this.onload()\n    })\n    return {\n      src: '',\n      onload: null,\n      onerror: null,\n    }\n  }\n}\n\n// Clear mocks after each test\nafterEach(() => {\n  jest.clearAllMocks()\n  localStorage.clear()\n  sessionStorage.clear()\n})\n\n// Clean up after all tests\nafterAll(() => {\n  jest.resetAllMocks()\n})\n\n// Set timezone for consistent date testing\nprocess.env.TZ = 'UTC'\n\n// Mock Next.js routing\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n    back: jest.fn(),\n    forward: jest.fn(),\n    refresh: jest.fn(),\n    pathname: '/',\n  }),\n  usePathname: () => '/',\n  useSearchParams: () => new URLSearchParams(),\n}))\n\n// Mock Next.js image component\njest.mock('next/image', () => ({\n  __esModule: true,\n  default: (props) => {\n    // eslint-disable-next-line @next/next/no-img-element\n    return <img {...props} alt={props.alt || ''} />\n  },\n}))\n\n// Mock Next.js link component\njest.mock('next/link', () => ({\n  __esModule: true,\n  default: ({ children, href, ...props }) => (\n    <a href={href} {...props}>\n      {children}\n    </a>\n  ),\n}))\n\n// Mock next-auth\njest.mock('next-auth/react', () => ({\n  useSession: jest.fn(() => ({\n    data: null,\n    status: 'unauthenticated',\n  })),\n  signIn: jest.fn(),\n  signOut: jest.fn(),\n}))\n\n// Set up environment variables\nprocess.env = {\n  ...process.env,\n  NEXT_PUBLIC_APP_URL: 'http://localhost:3000',\n  NODE_ENV: 'test',\n}"],"names":["jest","mock","readFileSync","fn","writeFileSync","existsSync","mkdirSync","createTransport","mockReturnValue","sendMail","mockResolvedValue","messageId","verify","initializeApp","messaging","send","useRouter","push","replace","prefetch","back","forward","refresh","pathname","usePathname","useSearchParams","URLSearchParams","__esModule","default","props","img","alt","children","href","a","useSession","data","status","signIn","signOut","global","fetch","window","matchMedia","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","IntersectionObserver","constructor","callback","options","observe","unobserve","disconnect","ResizeObserver","location","protocol","host","hostname","port","search","hash","origin","assign","reload","scrollTo","TextEncoder","TextDecoder","localStorageMock","store","getItem","key","setItem","value","String","removeItem","clear","length","Object","keys","index","defineProperty","navigator","writeText","readText","URL","createObjectURL","revokeObjectURL","console","error","warn","log","writable","configurable","requestAnimationFrame","setTimeout","cancelAnimationFrame","MutationObserver","takeRecords","expect","extend","toBeValidDate","received","pass","Date","isNaN","message","Image","onload","src","onerror","afterEach","clearAllMocks","localStorage","sessionStorage","afterAll","resetAllMocks","process","env","TZ","NEXT_PUBLIC_APP_URL","NODE_ENV"],"mappings":"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"}