{"version":3,"names":["VerifyCodePage","cov_1xeuekzt6y","f","code","setCode","s","_react","useState","email","setEmail","error","setError","router","_navigation","useRouter","toast","_usetoast","useToast","t","_nextintl","useTranslations","locale","useLocale","isArabic","direction","b","handleSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","success","localStorage","setItem","description","push","variant","err","_jsxruntime","jsx","className","style","jsxs","_card","Card","CardHeader","CardTitle","CardContent","onSubmit","_label","Label","htmlFor","_input","Input","id","type","placeholder","value","onChange","target","required","_button","Button"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/verify-code/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { useTranslations, useLocale } from 'next-intl';\n\nexport default function VerifyCodePage() {\n  const [code, setCode] = useState('');\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const router = useRouter();\n  const { toast } = useToast();\n  const t = useTranslations('Auth');\n  const locale = useLocale();\n  const isArabic = locale === 'ar';\n  const direction = isArabic ? 'rtl' : 'ltr';\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      const res = await fetch('/api/auth/verify-email', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ code, email }),\n      });\n\n      const data = await res.json();\n      if (res.ok && data.success) {\n        localStorage.setItem('verifiedEmail', email);\n        toast({ description: t('VerificationSuccess') });\n        router.push('/auth/complete-registration');\n      } else {\n        setError(data.error || t('InvalidCode'));\n        toast({ description: data.error || t('InvalidCode'), variant: 'destructive' });\n      }\n    } catch (err) {\n      setError(t('Error'));\n      toast({ description: t('Error'), variant: 'destructive' });\n    }\n  };\n\n  return (\n    <main className=\"max-w-md mx-auto py-8\" style={{ direction }}>\n      <Card>\n        <CardHeader>\n          <CardTitle>{t('VerifyEmail')}</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"email\">{t('Email')}</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder={t('EmailPlaceholder')}\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"code\">{t('VerificationCode')}</Label>\n              <Input\n                id=\"code\"\n                type=\"text\"\n                placeholder={t('CodePlaceholder')}\n                value={code}\n                onChange={(e) => setCode(e.target.value)}\n                required\n              />\n            </div>\n            {error && <p className=\"text-red-500\">{error}</p>}\n            <Button type=\"submit\" className=\"w-full\">\n              {t('Verify')}\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </main>\n  );\n}"],"mappings":"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","ignoreList":[]}