{"version":3,"names":["GET","req","cov_1wjs2gdirc","f","s","searchParams","URL","url","partnerId","get","b","_server","NextResponse","json","success","message","status","partner","_partnermodel","default","findById","data","totalEarnings","balance","transactions","error"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/api/earnings/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport Partner from '@/lib/db/models/partner.model';\n\nexport async function GET(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const partnerId = searchParams.get('partnerId');\n\n    if (!partnerId) {\n      return NextResponse.json({ success: false, message: 'Partner ID is required' }, { status: 400 });\n    }\n\n    const partner = await Partner.findById(partnerId);\n\n    if (!partner) {\n      return NextResponse.json({ success: false, message: 'Partner not found' }, { status: 404 });\n    }\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        totalEarnings: partner.totalEarnings,\n        balance: partner.balance,\n        transactions: partner.transactions,\n      },\n    });\n  } catch (error) {\n    return NextResponse.json({ success: false, message: error.message }, { status: 500 });\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAGsB;;;;;;WAAAA,GAAA;;;;;kCAHoB;;;wEACtB;;;;;;;;;;;;;;;AAEb,eAAeA,IAAIC,GAAgB;EAAA;EAAAC,cAAA,GAAAC,CAAA;EAAAD,cAAA,GAAAE,CAAA;EACxC,IAAI;IACF,MAAM;MAAEC;IAAY,CAAE;IAAA;IAAA,CAAAH,cAAA,GAAAE,CAAA,OAAG,IAAIE,GAAA,CAAIL,GAAA,CAAIM,GAAG;IACxC,MAAMC,SAAA;IAAA;IAAA,CAAAN,cAAA,GAAAE,CAAA,OAAYC,YAAA,CAAaI,GAAG,CAAC;IAAA;IAAAP,cAAA,GAAAE,CAAA;IAEnC,IAAI,CAACI,SAAA,EAAW;MAAA;MAAAN,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAE,CAAA;MACd,OAAOO,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;QAAEC,OAAA,EAAS;QAAOC,OAAA,EAAS;MAAyB,GAAG;QAAEC,MAAA,EAAQ;MAAI;IAChG;IAAA;IAAA;MAAAd,cAAA,GAAAQ,CAAA;IAAA;IAEA,MAAMO,OAAA;IAAA;IAAA,CAAAf,cAAA,GAAAE,CAAA,QAAU,MAAMc,aAAA,CAAAC,OAAO,CAACC,QAAQ,CAACZ,SAAA;IAAA;IAAAN,cAAA,GAAAE,CAAA;IAEvC,IAAI,CAACa,OAAA,EAAS;MAAA;MAAAf,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAE,CAAA;MACZ,OAAOO,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;QAAEC,OAAA,EAAS;QAAOC,OAAA,EAAS;MAAoB,GAAG;QAAEC,MAAA,EAAQ;MAAI;IAC3F;IAAA;IAAA;MAAAd,cAAA,GAAAQ,CAAA;IAAA;IAAAR,cAAA,GAAAE,CAAA;IAEA,OAAOO,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;MACvBC,OAAA,EAAS;MACTO,IAAA,EAAM;QACJC,aAAA,EAAeL,OAAA,CAAQK,aAAa;QACpCC,OAAA,EAASN,OAAA,CAAQM,OAAO;QACxBC,YAAA,EAAcP,OAAA,CAAQO;MACxB;IACF;EACF,EAAE,OAAOC,KAAA,EAAO;IAAA;IAAAvB,cAAA,GAAAE,CAAA;IACd,OAAOO,OAAA,CAAAC,YAAY,CAACC,IAAI,CAAC;MAAEC,OAAA,EAAS;MAAOC,OAAA,EAASU,KAAA,CAAMV;IAAQ,GAAG;MAAEC,MAAA,EAAQ;IAAI;EACrF;AACF","ignoreList":[]}