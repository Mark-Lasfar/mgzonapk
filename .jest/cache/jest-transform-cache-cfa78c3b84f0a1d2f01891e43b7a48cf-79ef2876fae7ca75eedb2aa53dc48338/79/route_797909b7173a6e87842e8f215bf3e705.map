{"version":3,"names":["POST","req","cov_uykhkk6uk","f","s","_db","connectToDatabase","email","password","json","b","_server","NextResponse","error","status","hashed","_bcryptjs","default","hash","_usermodel","findOneAndUpdate","success"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/api/auth/update-password/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { connectToDatabase } from '@/lib/db';\nimport User from '@/lib/db/models/user.model';\nimport bcrypt from 'bcryptjs';\n\nexport async function POST(req: Request) {\n  try {\n    await connectToDatabase();\n    const { email, password } = await req.json();\n\n    if (!email || !password) {\n      return NextResponse.json({ error: 'Email and password required' }, { status: 400 });\n    }\n\n    const hashed = await bcrypt.hash(password, 10);\n    await User.findOneAndUpdate({ email }, { password: hashed });\n\n    return NextResponse.json({ success: true });\n  } catch (error) {\n    return NextResponse.json({ error: 'Error updating password' }, { status: 500 });\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAKsB;;;;;;WAAAA,IAAA;;;;;iCALO;;;iCACK;;;uEACjB;;;uEACE;;;;;;;;;;;;;;;AAEZ,eAAeA,KAAKC,GAAY;EAAA;EAAAC,aAAA,GAAAC,CAAA;EAAAD,aAAA,GAAAE,CAAA;EACrC,IAAI;IAAA;IAAAF,aAAA,GAAAE,CAAA;IACF,MAAM,IAAAC,GAAA,CAAAC,iBAAiB;IACvB,MAAM;MAAEC,KAAK;MAAEC;IAAQ,CAAE;IAAA;IAAA,CAAAN,aAAA,GAAAE,CAAA,QAAG,MAAMH,GAAA,CAAIQ,IAAI;IAAA;IAAAP,aAAA,GAAAE,CAAA;IAE1C;IAAI;IAAA,CAAAF,aAAA,GAAAQ,CAAA,WAACH,KAAA;IAAA;IAAA,CAAAL,aAAA,GAAAQ,CAAA,UAAS,CAACF,QAAA,GAAU;MAAA;MAAAN,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MACvB,OAAOO,OAAA,CAAAC,YAAY,CAACH,IAAI,CAAC;QAAEI,KAAA,EAAO;MAA8B,GAAG;QAAEC,MAAA,EAAQ;MAAI;IACnF;IAAA;IAAA;MAAAZ,aAAA,GAAAQ,CAAA;IAAA;IAEA,MAAMK,MAAA;IAAA;IAAA,CAAAb,aAAA,GAAAE,CAAA,QAAS,MAAMY,SAAA,CAAAC,OAAM,CAACC,IAAI,CAACV,QAAA,EAAU;IAAA;IAAAN,aAAA,GAAAE,CAAA;IAC3C,MAAMe,UAAA,CAAAF,OAAI,CAACG,gBAAgB,CAAC;MAAEb;IAAM,GAAG;MAAEC,QAAA,EAAUO;IAAO;IAAA;IAAAb,aAAA,GAAAE,CAAA;IAE1D,OAAOO,OAAA,CAAAC,YAAY,CAACH,IAAI,CAAC;MAAEY,OAAA,EAAS;IAAK;EAC3C,EAAE,OAAOR,KAAA,EAAO;IAAA;IAAAX,aAAA,GAAAE,CAAA;IACd,OAAOO,OAAA,CAAAC,YAAY,CAACH,IAAI,CAAC;MAAEI,KAAA,EAAO;IAA0B,GAAG;MAAEC,MAAA,EAAQ;IAAI;EAC/E;AACF","ignoreList":[]}