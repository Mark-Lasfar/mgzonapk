{"version":3,"names":["GET","cov_1ftx6d6trb","f","s","POST","req","withdrawals","_withdrawalrequestmodel","default","find","populate","_server","NextResponse","json","success","data","error","message","status","id","b","withdrawal","findById","save"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/api/admin/withdrawals/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport WithdrawalRequest from '@/lib/db/models/withdrawal-request.model';\n\nexport async function GET(req: NextRequest) {\n  try {\n    const withdrawals = await WithdrawalRequest.find().populate('partnerId');\n    return NextResponse.json({ success: true, data: withdrawals });\n  } catch (error) {\n    return NextResponse.json({ success: false, message: error.message }, { status: 500 });\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const { id, status } = await req.json();\n\n    if (!id || !status) {\n      return NextResponse.json({ success: false, message: 'ID and status are required' }, { status: 400 });\n    }\n\n    const withdrawal = await WithdrawalRequest.findById(id);\n\n    if (!withdrawal) {\n      return NextResponse.json({ success: false, message: 'Withdrawal request not found' }, { status: 404 });\n    }\n\n    withdrawal.status = status;\n    await withdrawal.save();\n\n    return NextResponse.json({ success: true, message: 'Withdrawal updated successfully', data: withdrawal });\n  } catch (error) {\n    return NextResponse.json({ success: false, message: error.message }, { status: 500 });\n  }\n}"],"mappings":"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","ignoreList":[]}