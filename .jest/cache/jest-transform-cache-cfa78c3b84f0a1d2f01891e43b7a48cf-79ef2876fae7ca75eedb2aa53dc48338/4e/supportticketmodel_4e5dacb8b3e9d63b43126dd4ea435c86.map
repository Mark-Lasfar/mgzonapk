{"version":3,"names":["cov_1yqb7pk0qq","actualCoverage","s","_default","supportTicketSchema","_mongoose","Schema","userId","type","Types","ObjectId","ref","required","orderId","subject","String","description","category","priority","enum","default","status","assignedTo","messages","sender","message","attachments","createdAt","Date","now","resolvedAt","timestamps","SupportTicket","b","models","model"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/lib/db/models/support-ticket.model.ts"],"sourcesContent":["import { Document, Model, model, models, Schema } from 'mongoose'\n\nexport interface ISupportTicket extends Document {\n  _id: string\n  userId: string\n  orderId?: string\n  subject: string\n  description: string\n  category: string\n  priority: 'low' | 'medium' | 'high'\n  status: 'open' | 'in_progress' | 'resolved' | 'closed'\n  assignedTo?: string\n  messages: {\n    sender: string\n    message: string\n    attachments: string[]\n    createdAt: Date\n  }[]\n  createdAt: Date\n  updatedAt: Date\n  resolvedAt?: Date\n}\n\nconst supportTicketSchema = new Schema<ISupportTicket>(\n  {\n    userId: {\n      type: Schema.Types.ObjectId,\n      ref: 'User',\n      required: true,\n    },\n    orderId: {\n      type: Schema.Types.ObjectId,\n      ref: 'Order',\n    },\n    subject: {\n      type: String,\n      required: true,\n    },\n    description: {\n      type: String,\n      required: true,\n    },\n    category: {\n      type: String,\n      required: true,\n    },\n    priority: {\n      type: String,\n      enum: ['low', 'medium', 'high'],\n      default: 'medium',\n    },\n    status: {\n      type: String,\n      enum: ['open', 'in_progress', 'resolved', 'closed'],\n      default: 'open',\n    },\n    assignedTo: {\n      type: Schema.Types.ObjectId,\n      ref: 'User',\n    },\n    messages: [\n      {\n        sender: {\n          type: Schema.Types.ObjectId,\n          ref: 'User',\n          required: true,\n        },\n        message: {\n          type: String,\n          required: true,\n        },\n        attachments: [String],\n        createdAt: {\n          type: Date,\n          default: Date.now,\n        },\n      },\n    ],\n    resolvedAt: Date,\n  },\n  {\n    timestamps: true,\n  }\n)\n\nconst SupportTicket =\n  (models.SupportTicket as Model<ISupportTicket>) ||\n  model<ISupportTicket>('SupportTicket', supportTicketSchema)\n\nexport default SupportTicket"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA4BM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BA6DN;;;;;;WAAAC,QAAA;;;;;kCAzFuD;AAuBvD,MAAMC,mBAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAE,CAAA,OAAsB,IAAIG,SAAA,CAAAC,MAAM,CACpC;EACEC,MAAA,EAAQ;IACNC,IAAA,EAAMH,SAAA,CAAAC,MAAM,CAACG,KAAK,CAACC,QAAQ;IAC3BC,GAAA,EAAK;IACLC,QAAA,EAAU;EACZ;EACAC,OAAA,EAAS;IACPL,IAAA,EAAMH,SAAA,CAAAC,MAAM,CAACG,KAAK,CAACC,QAAQ;IAC3BC,GAAA,EAAK;EACP;EACAG,OAAA,EAAS;IACPN,IAAA,EAAMO,MAAA;IACNH,QAAA,EAAU;EACZ;EACAI,WAAA,EAAa;IACXR,IAAA,EAAMO,MAAA;IACNH,QAAA,EAAU;EACZ;EACAK,QAAA,EAAU;IACRT,IAAA,EAAMO,MAAA;IACNH,QAAA,EAAU;EACZ;EACAM,QAAA,EAAU;IACRV,IAAA,EAAMO,MAAA;IACNI,IAAA,EAAM,CAAC,OAAO,UAAU,OAAO;IAC/BC,OAAA,EAAS;EACX;EACAC,MAAA,EAAQ;IACNb,IAAA,EAAMO,MAAA;IACNI,IAAA,EAAM,CAAC,QAAQ,eAAe,YAAY,SAAS;IACnDC,OAAA,EAAS;EACX;EACAE,UAAA,EAAY;IACVd,IAAA,EAAMH,SAAA,CAAAC,MAAM,CAACG,KAAK,CAACC,QAAQ;IAC3BC,GAAA,EAAK;EACP;EACAY,QAAA,EAAU,CACR;IACEC,MAAA,EAAQ;MACNhB,IAAA,EAAMH,SAAA,CAAAC,MAAM,CAACG,KAAK,CAACC,QAAQ;MAC3BC,GAAA,EAAK;MACLC,QAAA,EAAU;IACZ;IACAa,OAAA,EAAS;MACPjB,IAAA,EAAMO,MAAA;MACNH,QAAA,EAAU;IACZ;IACAc,WAAA,EAAa,CAACX,MAAA,CAAO;IACrBY,SAAA,EAAW;MACTnB,IAAA,EAAMoB,IAAA;MACNR,OAAA,EAASQ,IAAA,CAAKC;IAChB;EACF,EACD;EACDC,UAAA,EAAYF;AACd,GACA;EACEG,UAAA,EAAY;AACd;AAGF,MAAMC,aAAA;AAAA;AAAA,CAAAhC,cAAA,GAAAE,CAAA;AACJ;AAAA,CAAAF,cAAA,GAAAiC,CAAA,UAAA5B,SAAC,CAAA6B,MAAM,CAACF,aAAa;AAAA;AAAA,CAAAhC,cAAA,GAAAiC,CAAA,UACrB,IAAA5B,SAAA,CAAA8B,KAAK,EAAiB,iBAAiB/B,mBAAA;MAEzCD,QAAA;AAAA;AAAA,CAAAH,cAAA,GAAAE,CAAA,OAAe8B,aAAA","ignoreList":[]}