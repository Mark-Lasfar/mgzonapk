{"version":3,"names":["SellerDashboardLayout","UnauthorizedSection","cov_oz6frskmh","f","s","_jsxruntime","jsxs","className","jsx","_link","default","href","_image","src","width","height","alt","priority","_button","Button","asChild","variant","children","session","_auth","auth","b","_navigation","redirect","sellerResponse","_selleractions","getSellerByUserId","user","id","success","data","site","_settingactions","getSetting","seller","logo","businessName","_sellernav","SellerNav","_dropdownmenu","DropdownMenu","DropdownMenuTrigger","_avatar","Avatar","AvatarImage","image","name","AvatarFallback","charAt","DropdownMenuContent","align","forceMount","DropdownMenuLabel","email","DropdownMenuSeparator","DropdownMenuItem","_lucidereact","User","LogOut","error","console","Error","message","includes"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/seller/dashboard/layout.tsx"],"sourcesContent":["import Image from 'next/image';\nimport Link from 'next/link';\nimport React from 'react';\nimport { SellerNav } from './seller-nav';\nimport { getSetting } from '@/lib/actions/setting.actions';\nimport { auth } from '@/auth';\nimport { redirect } from 'next/navigation';\nimport { getSellerByUserId } from '@/lib/actions/seller.actions';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Button } from '@/components/ui/button';\nimport { LogOut, User } from 'lucide-react';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\n\nfunction UnauthorizedSection() {\n  return (\n    <div className=\"flex min-h-screen flex-col\">\n      <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container flex h-16 items-center\">\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\n            <Image\n              src=\"/icons/logo.svg\"\n              width={40}\n              height={40}\n              alt=\"Site Logo\"\n              className=\"dark:invert\"\n              priority\n            />\n          </Link>\n        </div>\n      </header>\n\n      <main className=\"flex-1\">\n        <div className=\"container flex flex-col items-center justify-center min-h-[80vh] py-6\">\n          <div className=\"flex flex-col items-center space-y-6 text-center\">\n            <h1 className=\"text-3xl font-bold tracking-tighter\">\n              Seller Account Required\n            </h1>\n            <p className=\"text-muted-foreground max-w-[600px]\">\n              You need to register as a seller to access the dashboard. Please complete your seller registration to continue.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <Button asChild variant=\"default\" className=\"min-w-[200px]\">\n                <Link href=\"/seller/registration\">Register as Seller</Link>\n              </Button>\n              <Button asChild variant=\"outline\" className=\"min-w-[200px]\">\n                <Link href=\"/\">Return to Home</Link>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default async function SellerDashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  try {\n    const session = await auth();\n    if (!session) {\n      redirect('/sign-in');\n    }\n\n    const sellerResponse = await getSellerByUserId(session.user.id!);\n    if (!sellerResponse.success || !sellerResponse.data) {\n      return <UnauthorizedSection />;\n    }\n\n    const { site } = await getSetting();\n    const seller = sellerResponse.data;\n\n    return (\n      <div className=\"flex flex-col min-h-screen\">\n        <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n          <div className=\"container flex h-16 items-center justify-between\">\n            <div className=\"flex items-center gap-8\">\n              <Link href=\"/\" className=\"flex items-center space-x-2\">\n                <Image\n                  src={seller.logo || '/icons/logo.svg'} // Use seller's logo if available\n                  width={40}\n                  height={40}\n                  alt={`${seller.businessName} logo`}\n                  className=\"dark:invert\"\n                  priority\n                />\n                <span className=\"font-bold hidden md:inline-block\">\n                  {seller.businessName} Seller\n                </span>\n              </Link>\n              <SellerNav className=\"hidden md:flex\" />\n            </div>\n\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  className=\"relative h-8 w-8 rounded-full\"\n                  aria-label=\"User menu\"\n                >\n                  <Avatar className=\"h-8 w-8\">\n                    <AvatarImage\n                      src={session.user.image || '/images/default-avatar.png'}\n                      alt={session.user.name || 'User Avatar'}\n                    />\n                    <AvatarFallback>\n                      {session.user.name?.charAt(0) || 'U'}\n                    </AvatarFallback>\n                  </Avatar>\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n                <DropdownMenuLabel className=\"font-normal\">\n                  <div className=\"flex flex-col space-y-1\">\n                    <p className=\"text-sm font-medium leading-none\">\n                      {session.user.name}\n                    </p>\n                    <p className=\"text-xs leading-none text-muted-foreground\">\n                      {session.user.email}\n                    </p>\n                  </div>\n                </DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem asChild>\n                  <Link\n                    href=\"/seller/dashboard/profile\"\n                    className=\"flex items-center\"\n                  >\n                    <User className=\"mr-2 h-4 w-4\" />\n                    Profile\n                  </Link>\n                </DropdownMenuItem>\n                <DropdownMenuItem asChild>\n                  <Link\n                    href=\"/api/auth/signout\"\n                    className=\"flex items-center text-destructive\"\n                  >\n                    <LogOut className=\"mr-2 h-4 w-4\" />\n                    Log out\n                  </Link>\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n\n          <div className=\"md:hidden border-t\">\n            <SellerNav className=\"flex overflow-x-auto px-4 py-2\" />\n          </div>\n        </header>\n\n        <main className=\"flex-1\">\n          <div className=\"container py-6\">{children}</div>\n        </main>\n      </div>\n    );\n  } catch (error) {\n    console.error('Error in SellerDashboardLayout:', error);\n    if (\n      error instanceof Error &&\n      (error.message.includes('unauthorized') ||\n        error.message.includes('seller') ||\n        error.message.includes('permission'))\n    ) {\n      return <UnauthorizedSection />;\n    }\n    redirect('/error');\n  }\n}"],"mappings":"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","ignoreList":[]}