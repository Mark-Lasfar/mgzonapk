{"version":3,"names":["TwoFactorAuthPage","cov_2d6yqlyco6","f","code","setCode","s","_react","useState","error","setError","router","_navigation","useRouter","toast","_usetoast","useToast","handleSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","b","ok","success","push","description","variant","err","_jsxruntime","jsx","className","jsxs","_card","Card","CardHeader","CardTitle","CardContent","onSubmit","_label","Label","htmlFor","_input","Input","id","type","placeholder","value","onChange","target","required","_button","Button"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(auth)/two-factor-auth/page.tsx"],"sourcesContent":["// app/[locale]/(auth)/two-factor-auth/page.tsx\n'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\n\nexport default function TwoFactorAuthPage() {\n  const [code, setCode] = useState('');\n  const [error, setError] = useState('');\n  const router = useRouter();\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      const res = await fetch('/api/auth/2fa-verify', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ code }),\n      });\n\n      const data = await res.json();\n      if (res.ok && data.success) {\n        router.push('/dashboard');\n      } else {\n        setError(data.error || 'Invalid code');\n        toast({ description: data.error || 'Invalid code', variant: 'destructive' });\n      }\n    } catch (err) {\n      setError('An error occurred. Please try again.');\n      toast({ description: 'An error occurred. Please try again.', variant: 'destructive' });\n    }\n  };\n\n  return (\n    <main className=\"max-w-md mx-auto py-8\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Two-Factor Authentication</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"code\">2FA Code</Label>\n              <Input\n                id=\"code\"\n                type=\"text\"\n                placeholder=\"Enter 2FA code\"\n                value={code}\n                onChange={(e) => setCode(e.target.value)}\n                required\n              />\n            </div>\n            {error && <p className=\"text-red-500\">{error}</p>}\n            <Button type=\"submit\" className=\"w-full\">\n              Verify\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </main>\n  );\n}"],"mappings":"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","ignoreList":[]}