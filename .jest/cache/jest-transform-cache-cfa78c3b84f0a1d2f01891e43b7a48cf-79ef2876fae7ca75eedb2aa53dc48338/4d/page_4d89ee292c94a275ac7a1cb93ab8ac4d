baaa1862a500abccaccec5030102099b
'use server';
"use strict";

/* istanbul ignore next */
function cov_ubxp5w4s1() {
  var path = "/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/account/bank-verification/page.tsx";
  var hash = "4e64cad8145a7e976b6a28e30977bdf2f1700515";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/account/bank-verification/page.tsx",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 11,
          column: 3
        }
      },
      "2": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 36
        }
      },
      "3": {
        start: {
          line: 12,
          column: 20
        },
        end: {
          line: 12,
          column: 48
        }
      },
      "4": {
        start: {
          line: 13,
          column: 16
        },
        end: {
          line: 13,
          column: 43
        }
      },
      "5": {
        start: {
          line: 14,
          column: 14
        },
        end: {
          line: 14,
          column: 44
        }
      },
      "6": {
        start: {
          line: 15,
          column: 20
        },
        end: {
          line: 15,
          column: 46
        }
      },
      "7": {
        start: {
          line: 16,
          column: 35
        },
        end: {
          line: 16,
          column: 113
        }
      },
      "8": {
        start: {
          line: 17,
          column: 12
        },
        end: {
          line: 17,
          column: 44
        }
      },
      "9": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 21,
          column: 6
        }
      },
      "10": {
        start: {
          line: 24,
          column: 23
        },
        end: {
          line: 24,
          column: 35
        }
      },
      "11": {
        start: {
          line: 25,
          column: 14
        },
        end: {
          line: 28,
          column: 6
        }
      },
      "12": {
        start: {
          line: 29,
          column: 20
        },
        end: {
          line: 29,
          column: 43
        }
      },
      "13": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 33,
          column: 5
        }
      },
      "14": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 79
        }
      },
      "15": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 56
        }
      },
      "16": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 63,
          column: 9
        }
      },
      "17": {
        start: {
          line: 37,
          column: 12
        },
        end: {
          line: 37,
          column: 47
        }
      },
      "18": {
        start: {
          line: 38,
          column: 27
        },
        end: {
          line: 40,
          column: 14
        }
      },
      "19": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 43,
          column: 13
        }
      },
      "20": {
        start: {
          line: 42,
          column: 16
        },
        end: {
          line: 42,
          column: 62
        }
      },
      "21": {
        start: {
          line: 44,
          column: 29
        },
        end: {
          line: 50,
          column: 13
        }
      },
      "22": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 57,
          column: 15
        }
      },
      "23": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 58,
          column: 75
        }
      },
      "24": {
        start: {
          line: 59,
          column: 12
        },
        end: {
          line: 59,
          column: 74
        }
      },
      "25": {
        start: {
          line: 61,
          column: 12
        },
        end: {
          line: 61,
          column: 60
        }
      },
      "26": {
        start: {
          line: 62,
          column: 12
        },
        end: {
          line: 62,
          column: 24
        }
      },
      "27": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 184,
          column: 5
        }
      },
      "28": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 43
        }
      },
      "29": {
        start: {
          line: 67,
          column: 23
        },
        end: {
          line: 69,
          column: 10
        }
      },
      "30": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 87,
          column: 9
        }
      },
      "31": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 86,
          column: 15
        }
      },
      "32": {
        start: {
          line: 88,
          column: 8
        },
        end: {
          line: 175,
          column: 11
        }
      },
      "33": {
        start: {
          line: 177,
          column: 8
        },
        end: {
          line: 177,
          column: 61
        }
      },
      "34": {
        start: {
          line: 178,
          column: 8
        },
        end: {
          line: 183,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 10
          }
        },
        loc: {
          start: {
            line: 8,
            column: 20
          },
          end: {
            line: 10,
            column: 5
          }
        },
        line: 8
      },
      "1": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 18,
            column: 9
          },
          end: {
            line: 18,
            column: 33
          }
        },
        loc: {
          start: {
            line: 18,
            column: 39
          },
          end: {
            line: 22,
            column: 1
          }
        },
        line: 18
      },
      "2": {
        name: "BankVerificationPage",
        decl: {
          start: {
            line: 23,
            column: 15
          },
          end: {
            line: 23,
            column: 35
          }
        },
        loc: {
          start: {
            line: 23,
            column: 48
          },
          end: {
            line: 185,
            column: 1
          }
        },
        line: 23
      },
      "3": {
        name: "handleBankVerification",
        decl: {
          start: {
            line: 34,
            column: 19
          },
          end: {
            line: 34,
            column: 41
          }
        },
        loc: {
          start: {
            line: 34,
            column: 52
          },
          end: {
            line: 64,
            column: 5
          }
        },
        line: 34
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 19,
            column: 11
          },
          end: {
            line: 21,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 19,
            column: 35
          },
          end: {
            line: 19,
            column: 38
          }
        }, {
          start: {
            line: 19,
            column: 41
          },
          end: {
            line: 21,
            column: 5
          }
        }],
        line: 19
      },
      "1": {
        loc: {
          start: {
            line: 19,
            column: 11
          },
          end: {
            line: 19,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 19,
            column: 11
          },
          end: {
            line: 19,
            column: 14
          }
        }, {
          start: {
            line: 19,
            column: 18
          },
          end: {
            line: 19,
            column: 32
          }
        }],
        line: 19
      },
      "2": {
        loc: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 30
      },
      "3": {
        loc: {
          start: {
            line: 41,
            column: 12
          },
          end: {
            line: 43,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 12
          },
          end: {
            line: 43,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      },
      "4": {
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 87,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 87,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "5": {
        loc: {
          start: {
            line: 112,
            column: 50
          },
          end: {
            line: 112,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 112,
            column: 50
          },
          end: {
            line: 112,
            column: 77
          }
        }, {
          start: {
            line: 112,
            column: 81
          },
          end: {
            line: 112,
            column: 83
          }
        }],
        line: 112
      },
      "6": {
        loc: {
          start: {
            line: 129,
            column: 50
          },
          end: {
            line: 129,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 129,
            column: 50
          },
          end: {
            line: 129,
            column: 79
          }
        }, {
          start: {
            line: 129,
            column: 83
          },
          end: {
            line: 129,
            column: 85
          }
        }],
        line: 129
      },
      "7": {
        loc: {
          start: {
            line: 146,
            column: 50
          },
          end: {
            line: 146,
            column: 80
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 146,
            column: 50
          },
          end: {
            line: 146,
            column: 74
          }
        }, {
          start: {
            line: 146,
            column: 78
          },
          end: {
            line: 146,
            column: 80
          }
        }],
        line: 146
      },
      "8": {
        loc: {
          start: {
            line: 163,
            column: 50
          },
          end: {
            line: 163,
            column: 81
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 163,
            column: 50
          },
          end: {
            line: 163,
            column: 75
          }
        }, {
          start: {
            line: 163,
            column: 79
          },
          end: {
            line: 163,
            column: 81
          }
        }],
        line: 163
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/account/bank-verification/page.tsx"],
      sourcesContent: ["'use server';\n\nimport { getTranslations } from 'next-intl/server';\nimport { auth } from '@/auth';\nimport { redirect } from 'next/navigation';\nimport Seller from '@/lib/db/models/seller.model';\nimport { connectToDatabase } from '@/lib/db';\n\ninterface BankVerificationPageProps {\n  params: Promise<{ locale: string }>;\n}\n\nexport default async function BankVerificationPage({ params }: BankVerificationPageProps) {\n  const { locale } = await params;\n  const t = await getTranslations({ locale, namespace: 'bankVerification' });\n  const session = await auth();\n\n  if (!session?.user?.id) {\n    console.log('\u0644\u0627 \u064A\u0648\u062C\u062F \u062C\u0644\u0633\u0629 \u0645\u0633\u062A\u062E\u062F\u0645\u060C \u064A\u062A\u0645 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u0648\u062C\u064A\u0647 \u0625\u0644\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644');\n    redirect(`/${locale}/sign-in`);\n  }\n\n  async function handleBankVerification(formData: FormData) {\n    'use server';\n    try {\n      await connectToDatabase();\n      const seller = await Seller.findOne({ userId: session.user.id });\n      if (!seller) {\n        throw new Error('\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0644\u0641 \u0628\u0627\u0626\u0639');\n      }\n\n      const bankInfo = {\n        accountName: formData.get('accountName') as string,\n        accountNumber: formData.get('accountNumber') as string,\n        bankName: formData.get('bankName') as string,\n        swiftCode: formData.get('swiftCode') as string,\n        verified: true, // \u0641\u064A \u0627\u0644\u0648\u0627\u0642\u0639\u060C \u0644\u0627\u0632\u0645 \u064A\u0643\u0648\u0646 \u0641\u064A \u0639\u0645\u0644\u064A\u0629 \u062A\u062D\u0642\u0642 \u062D\u0642\u064A\u0642\u064A\u0629\n      };\n\n      await Seller.updateOne(\n        { userId: session.user.id },\n        { $set: { bankInfo } }\n      );\n      console.log('\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0628\u0646\u0643 \u0644\u0644\u0628\u0627\u0626\u0639:', session.user.id);\n      redirect(`/${locale}/account/subscriptions`);\n    } catch (error) {\n      console.error('\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0646\u0643:', error);\n      throw error;\n    }\n  }\n\n  try {\n    await connectToDatabase();\n    const seller = await Seller.findOne({ userId: session.user.id });\n    if (!seller) {\n      return (\n        <div className=\"text-red-500 text-center p-4\">\n          {t('errors.sellerNotFound', {\n            defaultMessage: '\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0644\u0641 \u0628\u0627\u0626\u0639. \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0643\u0628\u0627\u0626\u0639.',\n          })}\n          <br />\n          <a href={`/${locale}/seller-registration`} className=\"text-blue-500 underline\">\n            {t('account.startSelling', { defaultMessage: '\u0627\u0628\u062F\u0623 \u0627\u0644\u0628\u064A\u0639' })}\n          </a>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"container mx-auto p-4\">\n        <h1 className=\"text-2xl font-bold mb-4\">{t('title')}</h1>\n        <form action={handleBankVerification} className=\"space-y-4 max-w-md mx-auto\">\n          <div>\n            <label htmlFor=\"accountName\" className=\"block text-sm font-medium\">\n              {t('accountName')}\n            </label>\n            <input\n              id=\"accountName\"\n              name=\"accountName\"\n              type=\"text\"\n              className=\"mt-1 block w-full border rounded-md p-2\"\n              required\n              defaultValue={seller.bankInfo.accountName || ''}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"accountNumber\" className=\"block text-sm font-medium\">\n              {t('accountNumber')}\n            </label>\n            <input\n              id=\"accountNumber\"\n              name=\"accountNumber\"\n              type=\"text\"\n              className=\"mt-1 block w-full border rounded-md p-2\"\n              required\n              defaultValue={seller.bankInfo.accountNumber || ''}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"bankName\" className=\"block text-sm font-medium\">\n              {t('bankName')}\n            </label>\n            <input\n              id=\"bankName\"\n              name=\"bankName\"\n              type=\"text\"\n              className=\"mt-1 block w-full border rounded-md p-2\"\n              required\n              defaultValue={seller.bankInfo.bankName || ''}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"swiftCode\" className=\"block text-sm font-medium\">\n              {t('swiftCode')}\n            </label>\n            <input\n              id=\"swiftCode\"\n              name=\"swiftCode\"\n              type=\"text\"\n              className=\"mt-1 block w-full border rounded-md p-2\"\n              required\n              defaultValue={seller.bankInfo.swiftCode || ''}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\n          >\n            {t('submit')}\n          </button>\n        </form>\n      </div>\n    );\n  } catch (error) {\n    console.error('\u062E\u0637\u0623 \u0641\u064A \u0635\u0641\u062D\u0629 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0646\u0643:', error);\n    return (\n      <div className=\"text-red-500 text-center p-4\">\n        {t('errors.serverError', { defaultMessage: '\u062D\u062F\u062B \u062E\u0637\u0623. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0644\u0627\u062D\u0642\u064B\u0627.' })}\n      </div>\n    );\n  }\n}"],
      names: ["BankVerificationPage", "params", "locale", "t", "getTranslations", "namespace", "session", "auth", "user", "id", "console", "log", "redirect", "handleBankVerification", "formData", "connectToDatabase", "seller", "Seller", "findOne", "userId", "Error", "bankInfo", "accountName", "get", "accountNumber", "bankName", "swiftCode", "verified", "updateOne", "$set", "error", "div", "className", "defaultMessage", "br", "a", "href", "h1", "form", "action", "label", "htmlFor", "input", "name", "type", "required", "defaultValue", "button"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4e64cad8145a7e976b6a28e30977bdf2f1700515"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_ubxp5w4s1 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_ubxp5w4s1();
cov_ubxp5w4s1().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_ubxp5w4s1().s[1]++;
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_ubxp5w4s1().f[0]++;
    cov_ubxp5w4s1().s[2]++;
    return BankVerificationPage;
  }
});
const _jsxruntime =
/* istanbul ignore next */
(cov_ubxp5w4s1().s[3]++, require("react/jsx-runtime"));
const _server =
/* istanbul ignore next */
(cov_ubxp5w4s1().s[4]++, require("next-intl/server"));
const _auth =
/* istanbul ignore next */
(cov_ubxp5w4s1().s[5]++, require("../../../../../auth"));
const _navigation =
/* istanbul ignore next */
(cov_ubxp5w4s1().s[6]++, require("next/navigation"));
const _sellermodel =
/* istanbul ignore next */
(/*#__PURE__*/cov_ubxp5w4s1().s[7]++, _interop_require_default(require("../../../../../lib/db/models/seller.model")));
const _db =
/* istanbul ignore next */
(cov_ubxp5w4s1().s[8]++, require("../../../../../lib/db"));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_ubxp5w4s1().f[1]++;
  cov_ubxp5w4s1().s[9]++;
  return /* istanbul ignore next */(cov_ubxp5w4s1().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_ubxp5w4s1().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_ubxp5w4s1().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_ubxp5w4s1().b[0][1]++, {
    default: obj
  });
}
async function BankVerificationPage({
  params
}) {
  /* istanbul ignore next */
  cov_ubxp5w4s1().f[2]++;
  const {
    locale
  } =
  /* istanbul ignore next */
  (cov_ubxp5w4s1().s[10]++, await params);
  const t =
  /* istanbul ignore next */
  (cov_ubxp5w4s1().s[11]++, await (0, _server.getTranslations)({
    locale,
    namespace: 'bankVerification'
  }));
  const session =
  /* istanbul ignore next */
  (cov_ubxp5w4s1().s[12]++, await (0, _auth.auth)());
  /* istanbul ignore next */
  cov_ubxp5w4s1().s[13]++;
  if (!session?.user?.id) {
    /* istanbul ignore next */
    cov_ubxp5w4s1().b[2][0]++;
    cov_ubxp5w4s1().s[14]++;
    console.log('لا يوجد جلسة مستخدم، يتم إعادة التوجيه إلى تسجيل الدخول');
    /* istanbul ignore next */
    cov_ubxp5w4s1().s[15]++;
    (0, _navigation.redirect)(`/${locale}/sign-in`);
  } else
  /* istanbul ignore next */
  {
    cov_ubxp5w4s1().b[2][1]++;
  }
  async function handleBankVerification(formData) {
    'use server';

    /* istanbul ignore next */
    cov_ubxp5w4s1().f[3]++;
    cov_ubxp5w4s1().s[16]++;
    try {
      /* istanbul ignore next */
      cov_ubxp5w4s1().s[17]++;
      await (0, _db.connectToDatabase)();
      const seller =
      /* istanbul ignore next */
      (cov_ubxp5w4s1().s[18]++, await _sellermodel.default.findOne({
        userId: session.user.id
      }));
      /* istanbul ignore next */
      cov_ubxp5w4s1().s[19]++;
      if (!seller) {
        /* istanbul ignore next */
        cov_ubxp5w4s1().b[3][0]++;
        cov_ubxp5w4s1().s[20]++;
        throw new Error('لم يتم العثور على ملف بائع');
      } else
      /* istanbul ignore next */
      {
        cov_ubxp5w4s1().b[3][1]++;
      }
      const bankInfo =
      /* istanbul ignore next */
      (cov_ubxp5w4s1().s[21]++, {
        accountName: formData.get('accountName'),
        accountNumber: formData.get('accountNumber'),
        bankName: formData.get('bankName'),
        swiftCode: formData.get('swiftCode'),
        verified: true
      });
      /* istanbul ignore next */
      cov_ubxp5w4s1().s[22]++;
      await _sellermodel.default.updateOne({
        userId: session.user.id
      }, {
        $set: {
          bankInfo
        }
      });
      /* istanbul ignore next */
      cov_ubxp5w4s1().s[23]++;
      console.log('تم تحديث معلومات البنك للبائع:', session.user.id);
      /* istanbul ignore next */
      cov_ubxp5w4s1().s[24]++;
      (0, _navigation.redirect)(`/${locale}/account/subscriptions`);
    } catch (error) {
      /* istanbul ignore next */
      cov_ubxp5w4s1().s[25]++;
      console.error('خطأ في التحقق من البنك:', error);
      /* istanbul ignore next */
      cov_ubxp5w4s1().s[26]++;
      throw error;
    }
  }
  /* istanbul ignore next */
  cov_ubxp5w4s1().s[27]++;
  try {
    /* istanbul ignore next */
    cov_ubxp5w4s1().s[28]++;
    await (0, _db.connectToDatabase)();
    const seller =
    /* istanbul ignore next */
    (cov_ubxp5w4s1().s[29]++, await _sellermodel.default.findOne({
      userId: session.user.id
    }));
    /* istanbul ignore next */
    cov_ubxp5w4s1().s[30]++;
    if (!seller) {
      /* istanbul ignore next */
      cov_ubxp5w4s1().b[4][0]++;
      cov_ubxp5w4s1().s[31]++;
      return /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
        className: "text-red-500 text-center p-4",
        children: [t('errors.sellerNotFound', {
          defaultMessage: 'لم يتم العثور على ملف بائع. يرجى التسجيل كبائع.'
        }), /*#__PURE__*/(0, _jsxruntime.jsx)("br", {}), /*#__PURE__*/(0, _jsxruntime.jsx)("a", {
          href: `/${locale}/seller-registration`,
          className: "text-blue-500 underline",
          children: t('account.startSelling', {
            defaultMessage: 'ابدأ البيع'
          })
        })]
      });
    } else
    /* istanbul ignore next */
    {
      cov_ubxp5w4s1().b[4][1]++;
    }
    cov_ubxp5w4s1().s[32]++;
    return /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
      className: "container mx-auto p-4",
      children: [/*#__PURE__*/(0, _jsxruntime.jsx)("h1", {
        className: "text-2xl font-bold mb-4",
        children: t('title')
      }), /*#__PURE__*/(0, _jsxruntime.jsxs)("form", {
        action: handleBankVerification,
        className: "space-y-4 max-w-md mx-auto",
        children: [/*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
          children: [/*#__PURE__*/(0, _jsxruntime.jsx)("label", {
            htmlFor: "accountName",
            className: "block text-sm font-medium",
            children: t('accountName')
          }), /*#__PURE__*/(0, _jsxruntime.jsx)("input", {
            id: "accountName",
            name: "accountName",
            type: "text",
            className: "mt-1 block w-full border rounded-md p-2",
            required: true,
            defaultValue:
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[5][0]++, seller.bankInfo.accountName) ||
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[5][1]++, '')
          })]
        }), /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
          children: [/*#__PURE__*/(0, _jsxruntime.jsx)("label", {
            htmlFor: "accountNumber",
            className: "block text-sm font-medium",
            children: t('accountNumber')
          }), /*#__PURE__*/(0, _jsxruntime.jsx)("input", {
            id: "accountNumber",
            name: "accountNumber",
            type: "text",
            className: "mt-1 block w-full border rounded-md p-2",
            required: true,
            defaultValue:
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[6][0]++, seller.bankInfo.accountNumber) ||
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[6][1]++, '')
          })]
        }), /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
          children: [/*#__PURE__*/(0, _jsxruntime.jsx)("label", {
            htmlFor: "bankName",
            className: "block text-sm font-medium",
            children: t('bankName')
          }), /*#__PURE__*/(0, _jsxruntime.jsx)("input", {
            id: "bankName",
            name: "bankName",
            type: "text",
            className: "mt-1 block w-full border rounded-md p-2",
            required: true,
            defaultValue:
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[7][0]++, seller.bankInfo.bankName) ||
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[7][1]++, '')
          })]
        }), /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
          children: [/*#__PURE__*/(0, _jsxruntime.jsx)("label", {
            htmlFor: "swiftCode",
            className: "block text-sm font-medium",
            children: t('swiftCode')
          }), /*#__PURE__*/(0, _jsxruntime.jsx)("input", {
            id: "swiftCode",
            name: "swiftCode",
            type: "text",
            className: "mt-1 block w-full border rounded-md p-2",
            required: true,
            defaultValue:
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[8][0]++, seller.bankInfo.swiftCode) ||
            /* istanbul ignore next */
            (cov_ubxp5w4s1().b[8][1]++, '')
          })]
        }), /*#__PURE__*/(0, _jsxruntime.jsx)("button", {
          type: "submit",
          className: "bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",
          children: t('submit')
        })]
      })]
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_ubxp5w4s1().s[33]++;
    console.error('خطأ في صفحة التحقق من البنك:', error);
    /* istanbul ignore next */
    cov_ubxp5w4s1().s[34]++;
    return /*#__PURE__*/(0, _jsxruntime.jsx)("div", {
      className: "text-red-500 text-center p-4",
      children: t('errors.serverError', {
        defaultMessage: 'حدث خطأ. يرجى المحاولة لاحقًا.'
      })
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYW5rVmVyaWZpY2F0aW9uUGFnZSIsInBhcmFtcyIsImNvdl91YnhwNXc0czEiLCJmIiwibG9jYWxlIiwicyIsInQiLCJfc2VydmVyIiwiZ2V0VHJhbnNsYXRpb25zIiwibmFtZXNwYWNlIiwic2Vzc2lvbiIsIl9hdXRoIiwiYXV0aCIsInVzZXIiLCJpZCIsImIiLCJjb25zb2xlIiwibG9nIiwiX25hdmlnYXRpb24iLCJyZWRpcmVjdCIsImhhbmRsZUJhbmtWZXJpZmljYXRpb24iLCJmb3JtRGF0YSIsIl9kYiIsImNvbm5lY3RUb0RhdGFiYXNlIiwic2VsbGVyIiwiX3NlbGxlcm1vZGVsIiwiZGVmYXVsdCIsImZpbmRPbmUiLCJ1c2VySWQiLCJFcnJvciIsImJhbmtJbmZvIiwiYWNjb3VudE5hbWUiLCJnZXQiLCJhY2NvdW50TnVtYmVyIiwiYmFua05hbWUiLCJzd2lmdENvZGUiLCJ2ZXJpZmllZCIsInVwZGF0ZU9uZSIsIiRzZXQiLCJlcnJvciIsIl9qc3hydW50aW1lIiwianN4cyIsImNsYXNzTmFtZSIsImRlZmF1bHRNZXNzYWdlIiwianN4IiwiaHJlZiIsImFjdGlvbiIsImh0bWxGb3IiLCJuYW1lIiwidHlwZSIsInJlcXVpcmVkIiwiZGVmYXVsdFZhbHVlIl0sInNvdXJjZXMiOlsiL2hvbWUvaGFnZXIvbmV3L215LW5leHRqcy1wcm9qZWN0LW1hc3RlciAoMykvbXktbmV4dGpzLXByb2plY3QtbWFzdGVyL2FwcC9bbG9jYWxlXS8ocm9vdCkvYWNjb3VudC9iYW5rLXZlcmlmaWNhdGlvbi9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcic7XG5cbmltcG9ydCB7IGdldFRyYW5zbGF0aW9ucyB9IGZyb20gJ25leHQtaW50bC9zZXJ2ZXInO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0AvYXV0aCc7XG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgU2VsbGVyIGZyb20gJ0AvbGliL2RiL21vZGVscy9zZWxsZXIubW9kZWwnO1xuaW1wb3J0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSBmcm9tICdAL2xpYi9kYic7XG5cbmludGVyZmFjZSBCYW5rVmVyaWZpY2F0aW9uUGFnZVByb3BzIHtcbiAgcGFyYW1zOiBQcm9taXNlPHsgbG9jYWxlOiBzdHJpbmcgfT47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIEJhbmtWZXJpZmljYXRpb25QYWdlKHsgcGFyYW1zIH06IEJhbmtWZXJpZmljYXRpb25QYWdlUHJvcHMpIHtcbiAgY29uc3QgeyBsb2NhbGUgfSA9IGF3YWl0IHBhcmFtcztcbiAgY29uc3QgdCA9IGF3YWl0IGdldFRyYW5zbGF0aW9ucyh7IGxvY2FsZSwgbmFtZXNwYWNlOiAnYmFua1ZlcmlmaWNhdGlvbicgfSk7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XG5cbiAgaWYgKCFzZXNzaW9uPy51c2VyPy5pZCkge1xuICAgIGNvbnNvbGUubG9nKCfZhNinINmK2YjYrNivINis2YTYs9ipINmF2LPYqtiu2K/ZhdiMINmK2KrZhSDYpdi52KfYr9ipINin2YTYqtmI2KzZitmHINil2YTZiSDYqtiz2KzZitmEINin2YTYr9iu2YjZhCcpO1xuICAgIHJlZGlyZWN0KGAvJHtsb2NhbGV9L3NpZ24taW5gKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUJhbmtWZXJpZmljYXRpb24oZm9ybURhdGE6IEZvcm1EYXRhKSB7XG4gICAgJ3VzZSBzZXJ2ZXInO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xuICAgICAgY29uc3Qgc2VsbGVyID0gYXdhaXQgU2VsbGVyLmZpbmRPbmUoeyB1c2VySWQ6IHNlc3Npb24udXNlci5pZCB9KTtcbiAgICAgIGlmICghc2VsbGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDZhdmE2YEg2KjYp9im2LknKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmFua0luZm8gPSB7XG4gICAgICAgIGFjY291bnROYW1lOiBmb3JtRGF0YS5nZXQoJ2FjY291bnROYW1lJykgYXMgc3RyaW5nLFxuICAgICAgICBhY2NvdW50TnVtYmVyOiBmb3JtRGF0YS5nZXQoJ2FjY291bnROdW1iZXInKSBhcyBzdHJpbmcsXG4gICAgICAgIGJhbmtOYW1lOiBmb3JtRGF0YS5nZXQoJ2JhbmtOYW1lJykgYXMgc3RyaW5nLFxuICAgICAgICBzd2lmdENvZGU6IGZvcm1EYXRhLmdldCgnc3dpZnRDb2RlJykgYXMgc3RyaW5nLFxuICAgICAgICB2ZXJpZmllZDogdHJ1ZSwgLy8g2YHZiiDYp9mE2YjYp9mC2LnYjCDZhNin2LLZhSDZitmD2YjZhiDZgdmKINi52YXZhNmK2Kkg2KrYrdmC2YIg2K3ZgtmK2YLZitipXG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBTZWxsZXIudXBkYXRlT25lKFxuICAgICAgICB7IHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkIH0sXG4gICAgICAgIHsgJHNldDogeyBiYW5rSW5mbyB9IH1cbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZygn2KrZhSDYqtit2K/ZitirINmF2LnZhNmI2YXYp9iqINin2YTYqNmG2YMg2YTZhNio2KfYpti5OicsIHNlc3Npb24udXNlci5pZCk7XG4gICAgICByZWRpcmVjdChgLyR7bG9jYWxlfS9hY2NvdW50L3N1YnNjcmlwdGlvbnNgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNio2YbZgzonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG4gICAgY29uc3Qgc2VsbGVyID0gYXdhaXQgU2VsbGVyLmZpbmRPbmUoeyB1c2VySWQ6IHNlc3Npb24udXNlci5pZCB9KTtcbiAgICBpZiAoIXNlbGxlcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgdGV4dC1jZW50ZXIgcC00XCI+XG4gICAgICAgICAge3QoJ2Vycm9ycy5zZWxsZXJOb3RGb3VuZCcsIHtcbiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAn2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDZhdmE2YEg2KjYp9im2LkuINmK2LHYrNmJINin2YTYqtiz2KzZitmEINmD2KjYp9im2LkuJyxcbiAgICAgICAgICB9KX1cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICA8YSBocmVmPXtgLyR7bG9jYWxlfS9zZWxsZXItcmVnaXN0cmF0aW9uYH0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTUwMCB1bmRlcmxpbmVcIj5cbiAgICAgICAgICAgIHt0KCdhY2NvdW50LnN0YXJ0U2VsbGluZycsIHsgZGVmYXVsdE1lc3NhZ2U6ICfYp9io2K/YoyDYp9mE2KjZiti5JyB9KX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBwLTRcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi00XCI+e3QoJ3RpdGxlJyl9PC9oMT5cbiAgICAgICAgPGZvcm0gYWN0aW9uPXtoYW5kbGVCYW5rVmVyaWZpY2F0aW9ufSBjbGFzc05hbWU9XCJzcGFjZS15LTQgbWF4LXctbWQgbXgtYXV0b1wiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImFjY291bnROYW1lXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICB7dCgnYWNjb3VudE5hbWUnKX1cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJhY2NvdW50TmFtZVwiXG4gICAgICAgICAgICAgIG5hbWU9XCJhY2NvdW50TmFtZVwiXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgYm9yZGVyIHJvdW5kZWQtbWQgcC0yXCJcbiAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtzZWxsZXIuYmFua0luZm8uYWNjb3VudE5hbWUgfHwgJyd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImFjY291bnROdW1iZXJcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgIHt0KCdhY2NvdW50TnVtYmVyJyl9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGlkPVwiYWNjb3VudE51bWJlclwiXG4gICAgICAgICAgICAgIG5hbWU9XCJhY2NvdW50TnVtYmVyXCJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIGJsb2NrIHctZnVsbCBib3JkZXIgcm91bmRlZC1tZCBwLTJcIlxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3NlbGxlci5iYW5rSW5mby5hY2NvdW50TnVtYmVyIHx8ICcnfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJiYW5rTmFtZVwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAge3QoJ2JhbmtOYW1lJyl9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGlkPVwiYmFua05hbWVcIlxuICAgICAgICAgICAgICBuYW1lPVwiYmFua05hbWVcIlxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgYmxvY2sgdy1mdWxsIGJvcmRlciByb3VuZGVkLW1kIHAtMlwiXG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17c2VsbGVyLmJhbmtJbmZvLmJhbmtOYW1lIHx8ICcnfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzd2lmdENvZGVcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgIHt0KCdzd2lmdENvZGUnKX1cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJzd2lmdENvZGVcIlxuICAgICAgICAgICAgICBuYW1lPVwic3dpZnRDb2RlXCJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0xIGJsb2NrIHctZnVsbCBib3JkZXIgcm91bmRlZC1tZCBwLTJcIlxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3NlbGxlci5iYW5rSW5mby5zd2lmdENvZGUgfHwgJyd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTYwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3QoJ3N1Ym1pdCcpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINi12YHYrdipINin2YTYqtit2YLZgiDZhdmGINin2YTYqNmG2YM6JywgZXJyb3IpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCB0ZXh0LWNlbnRlciBwLTRcIj5cbiAgICAgICAge3QoJ2Vycm9ycy5zZXJ2ZXJFcnJvcicsIHsgZGVmYXVsdE1lc3NhZ2U6ICfYrdiv2Ksg2K7Yt9ijLiDZitix2KzZiSDYp9mE2YXYrdin2YjZhNipINmE2KfYrdmC2YvYpy4nIH0pfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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