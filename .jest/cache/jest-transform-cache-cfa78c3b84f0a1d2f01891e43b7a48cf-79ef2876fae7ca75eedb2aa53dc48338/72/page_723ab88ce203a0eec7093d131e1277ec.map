{"version":3,"names":["SecuritySettings","userId","cov_1j7eww9pxb","f","t","s","_nextintl","useTranslations","apiKeys","setApiKeys","_react","useState","newKeyName","setNewKeyName","permissions","setPermissions","useEffect","fetchApiKeys","result","_selleractions","getSellerApiKeys","success","b","data","handleCreateApiKey","createSellerApiKey","alert","error","handleRotateApiKey","apiKeyId","rotateSellerApiKey","handleDeactivateApiKey","deactivateSellerApiKey","_jsxruntime","jsxs","className","jsx","_input","Input","value","onChange","e","target","placeholder","_button","Button","onClick","_table","Table","TableHeader","TableRow","TableHead","TableBody","map","key","TableCell","name","join","isActive","lastUsed","Date","toLocaleDateString","expiresAt","variant","_id"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/seller/dashboard/settings/security/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useTranslations } from 'next-intl'\nimport { getSellerApiKeys, createSellerApiKey, rotateSellerApiKey, deactivateSellerApiKey } from '@/lib/actions/seller.actions'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\n\nexport default function SecuritySettings({ userId }: { userId: string }) {\n  const t = useTranslations('settings.security')\n  const [apiKeys, setApiKeys] = useState<any[]>([])\n  const [newKeyName, setNewKeyName] = useState('')\n  const [permissions, setPermissions] = useState<string[]>(['read:orders', 'read:products'])\n\n  useEffect(() => {\n    fetchApiKeys()\n  }, [])\n\n  const fetchApiKeys = async () => {\n    const result = await getSellerApiKeys(userId)\n    if (result.success) {\n      setApiKeys(result.data)\n    }\n  }\n\n  const handleCreateApiKey = async () => {\n    const result = await createSellerApiKey(userId, newKeyName, permissions)\n    if (result.success) {\n      alert(t('apiKeyCreated'))\n      setNewKeyName('')\n      fetchApiKeys()\n    } else {\n      alert(result.error)\n    }\n  }\n\n  const handleRotateApiKey = async (apiKeyId: string) => {\n    const result = await rotateSellerApiKey(userId, apiKeyId)\n    if (result.success) {\n      alert(t('apiKeyRotated'))\n      fetchApiKeys()\n    } else {\n      alert(result.error)\n    }\n  }\n\n  const handleDeactivateApiKey = async (apiKeyId: string) => {\n    const result = await deactivateSellerApiKey(userId, apiKeyId)\n    if (result.success) {\n      alert(t('apiKeyDeactivated'))\n      fetchApiKeys()\n    } else {\n      alert(result.error)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h2>{t('title')}</h2>\n      {/* Existing 2FA and login notifications sections */}\n      \n      <div className=\"space-y-4\">\n        <h3>{t('apiKeys')}</h3>\n        <div className=\"flex gap-4\">\n          <Input\n            value={newKeyName}\n            onChange={(e) => setNewKeyName(e.target.value)}\n            placeholder={t('apiKeyNamePlaceholder')}\n          />\n          <Button onClick={handleCreateApiKey}>{t('createApiKey')}</Button>\n        </div>\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>{t('name')}</TableHead>\n              <TableHead>{t('permissions')}</TableHead>\n              <TableHead>{t('status')}</TableHead>\n              <TableHead>{t('lastUsed')}</TableHead>\n              <TableHead>{t('expiresAt')}</TableHead>\n              <TableHead>{t('actions')}</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {apiKeys.map((key) => (\n              <TableRow key={key._id}>\n                <TableCell>{key.name}</TableCell>\n                <TableCell>{key.permissions.join(', ')}</TableCell>\n                <TableCell>{key.isActive ? t('active') : t('inactive')}</TableCell>\n                <TableCell>{key.lastUsed ? new Date(key.lastUsed).toLocaleDateString() : '-'}</TableCell>\n                <TableCell>{key.expiresAt ? new Date(key.expiresAt).toLocaleDateString() : '-'}</TableCell>\n                <TableCell>\n                  <Button variant=\"outline\" onClick={() => handleRotateApiKey(key._id)}>\n                    {t('rotate')}\n                  </Button>\n                  <Button variant=\"destructive\" onClick={() => handleDeactivateApiKey(key._id)}>\n                    {t('deactivate')}\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  )\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BASA;;;;;;WAAwBA,gBAAA;;;;;;;;kCAPY;;;kCACJ;;;kCACiE;;;kCAC1E;;;kCACD;;;kCACwD;AAE/D,SAASA,iBAAiB;EAAEC;AAAM,CAAsB;EAAA;EAAAC,cAAA,GAAAC,CAAA;EACrE,MAAMC,CAAA;EAAA;EAAA,CAAAF,cAAA,GAAAG,CAAA,QAAI,IAAAC,SAAA,CAAAC,eAAe,EAAC;EAC1B,MAAM,CAACC,OAAA,EAASC,UAAA,CAAW;EAAA;EAAA,CAAAP,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAQ,EAAE;EAChD,MAAM,CAACC,UAAA,EAAYC,aAAA,CAAc;EAAA;EAAA,CAAAX,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAC7C,MAAM,CAACG,WAAA,EAAaC,cAAA,CAAe;EAAA;EAAA,CAAAb,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAW,CAAC,eAAe,gBAAgB;EAAA;EAAAT,cAAA,GAAAG,CAAA;EAEzF,IAAAK,MAAA,CAAAM,SAAS,EAAC;IAAA;IAAAd,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAG,CAAA;IACRY,YAAA;EACF,GAAG,EAAE;EAAA;EAAAf,cAAA,GAAAG,CAAA;EAEL,MAAMY,YAAA,GAAe,MAAAA,CAAA;IAAA;IAAAf,cAAA,GAAAC,CAAA;IACnB,MAAMe,MAAA;IAAA;IAAA,CAAAhB,cAAA,GAAAG,CAAA,QAAS,MAAM,IAAAc,cAAA,CAAAC,gBAAgB,EAACnB,MAAA;IAAA;IAAAC,cAAA,GAAAG,CAAA;IACtC,IAAIa,MAAA,CAAOG,OAAO,EAAE;MAAA;MAAAnB,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAG,CAAA;MAClBI,UAAA,CAAWS,MAAA,CAAOK,IAAI;IACxB;IAAA;IAAA;MAAArB,cAAA,GAAAoB,CAAA;IAAA;EACF;EAAA;EAAApB,cAAA,GAAAG,CAAA;EAEA,MAAMmB,kBAAA,GAAqB,MAAAA,CAAA;IAAA;IAAAtB,cAAA,GAAAC,CAAA;IACzB,MAAMe,MAAA;IAAA;IAAA,CAAAhB,cAAA,GAAAG,CAAA,QAAS,MAAM,IAAAc,cAAA,CAAAM,kBAAkB,EAACxB,MAAA,EAAQW,UAAA,EAAYE,WAAA;IAAA;IAAAZ,cAAA,GAAAG,CAAA;IAC5D,IAAIa,MAAA,CAAOG,OAAO,EAAE;MAAA;MAAAnB,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAG,CAAA;MAClBqB,KAAA,CAAMtB,CAAA,CAAE;MAAA;MAAAF,cAAA,GAAAG,CAAA;MACRQ,aAAA,CAAc;MAAA;MAAAX,cAAA,GAAAG,CAAA;MACdY,YAAA;IACF,OAAO;MAAA;MAAAf,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAG,CAAA;MACLqB,KAAA,CAAMR,MAAA,CAAOS,KAAK;IACpB;EACF;EAAA;EAAAzB,cAAA,GAAAG,CAAA;EAEA,MAAMuB,kBAAA,GAAqB,MAAOC,QAAA;IAAA;IAAA3B,cAAA,GAAAC,CAAA;IAChC,MAAMe,MAAA;IAAA;IAAA,CAAAhB,cAAA,GAAAG,CAAA,QAAS,MAAM,IAAAc,cAAA,CAAAW,kBAAkB,EAAC7B,MAAA,EAAQ4B,QAAA;IAAA;IAAA3B,cAAA,GAAAG,CAAA;IAChD,IAAIa,MAAA,CAAOG,OAAO,EAAE;MAAA;MAAAnB,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAG,CAAA;MAClBqB,KAAA,CAAMtB,CAAA,CAAE;MAAA;MAAAF,cAAA,GAAAG,CAAA;MACRY,YAAA;IACF,OAAO;MAAA;MAAAf,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAG,CAAA;MACLqB,KAAA,CAAMR,MAAA,CAAOS,KAAK;IACpB;EACF;EAAA;EAAAzB,cAAA,GAAAG,CAAA;EAEA,MAAM0B,sBAAA,GAAyB,MAAOF,QAAA;IAAA;IAAA3B,cAAA,GAAAC,CAAA;IACpC,MAAMe,MAAA;IAAA;IAAA,CAAAhB,cAAA,GAAAG,CAAA,QAAS,MAAM,IAAAc,cAAA,CAAAa,sBAAsB,EAAC/B,MAAA,EAAQ4B,QAAA;IAAA;IAAA3B,cAAA,GAAAG,CAAA;IACpD,IAAIa,MAAA,CAAOG,OAAO,EAAE;MAAA;MAAAnB,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAG,CAAA;MAClBqB,KAAA,CAAMtB,CAAA,CAAE;MAAA;MAAAF,cAAA,GAAAG,CAAA;MACRY,YAAA;IACF,OAAO;MAAA;MAAAf,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAG,CAAA;MACLqB,KAAA,CAAMR,MAAA,CAAOS,KAAK;IACpB;EACF;EAAA;EAAAzB,cAAA,GAAAG,CAAA;EAEA,oBACE,IAAA4B,WAAA,CAAAC,IAAA,EAAC;IAAIC,SAAA,EAAU;4BACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;gBAAIhC,CAAA,CAAE;qBAGP,IAAA6B,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;kBAAIhC,CAAA,CAAE;uBACP,IAAA6B,WAAA,CAAAC,IAAA,EAAC;QAAIC,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAG,GAAA,EAACC,MAAA,CAAAC,KAAK;UACJC,KAAA,EAAO3B,UAAA;UACP4B,QAAA,EAAWC,CAAA,IAAM;YAAA;YAAAvC,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAG,CAAA;YAAA,OAAAQ,aAAA,CAAc4B,CAAA,CAAEC,MAAM,CAACH,KAAK;UAAA;UAC7CI,WAAA,EAAavC,CAAA,CAAE;yBAEjB,IAAA6B,WAAA,CAAAG,GAAA,EAACQ,OAAA,CAAAC,MAAM;UAACC,OAAA,EAAStB,kBAAA;oBAAqBpB,CAAA,CAAE;;uBAE1C,IAAA6B,WAAA,CAAAC,IAAA,EAACa,MAAA,CAAAC,KAAK;gCACJ,IAAAf,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAE,WAAW;oBACV,iBAAAhB,WAAA,CAAAC,IAAA,EAACa,MAAA,CAAAG,QAAQ;oCACP,IAAAjB,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAI,SAAS;wBAAE/C,CAAA,CAAE;6BACd,IAAA6B,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAI,SAAS;wBAAE/C,CAAA,CAAE;6BACd,IAAA6B,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAI,SAAS;wBAAE/C,CAAA,CAAE;6BACd,IAAA6B,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAI,SAAS;wBAAE/C,CAAA,CAAE;6BACd,IAAA6B,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAI,SAAS;wBAAE/C,CAAA,CAAE;6BACd,IAAA6B,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAI,SAAS;wBAAE/C,CAAA,CAAE;;;yBAGlB,IAAA6B,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAK,SAAS;oBACP5C,OAAA,CAAQ6C,GAAG,CAAEC,GAAA,IACZ;YAAA;YAAApD,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAG,CAAA;YAAA,OADY,aACZ,IAAA4B,WAAA,CAAAC,IAAA,EAACa,MAAA,CAAAG,QAAQ;sCACP,IAAAjB,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAQ,SAAS;0BAAED,GAAA,CAAIE;+BAChB,IAAAvB,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAQ,SAAS;0BAAED,GAAA,CAAIxC,WAAW,CAAC2C,IAAI,CAAC;+BACjC,IAAAxB,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAQ,SAAS;0BAAED,GAAA,CAAII,QAAQ;gBAAA;gBAAA,CAAAxD,cAAA,GAAAoB,CAAA,UAAGlB,CAAA,CAAE;gBAAA;gBAAA,CAAAF,cAAA,GAAAoB,CAAA,UAAYlB,CAAA,CAAE;+BAC3C,IAAA6B,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAQ,SAAS;0BAAED,GAAA,CAAIK,QAAQ;gBAAA;gBAAA,CAAAzD,cAAA,GAAAoB,CAAA,UAAG,IAAIsC,IAAA,CAAKN,GAAA,CAAIK,QAAQ,EAAEE,kBAAkB;gBAAA;gBAAA,CAAA3D,cAAA,GAAAoB,CAAA,UAAK;+BACzE,IAAAW,WAAA,CAAAG,GAAA,EAACW,MAAA,CAAAQ,SAAS;0BAAED,GAAA,CAAIQ,SAAS;gBAAA;gBAAA,CAAA5D,cAAA,GAAAoB,CAAA,UAAG,IAAIsC,IAAA,CAAKN,GAAA,CAAIQ,SAAS,EAAED,kBAAkB;gBAAA;gBAAA,CAAA3D,cAAA,GAAAoB,CAAA,UAAK;+BAC3E,IAAAW,WAAA,CAAAC,IAAA,EAACa,MAAA,CAAAQ,SAAS;wCACR,IAAAtB,WAAA,CAAAG,GAAA,EAACQ,OAAA,CAAAC,MAAM;kBAACkB,OAAA,EAAQ;kBAAUjB,OAAA,EAASA,CAAA,KAAM;oBAAA;oBAAA5C,cAAA,GAAAC,CAAA;oBAAAD,cAAA,GAAAG,CAAA;oBAAA,OAAAuB,kBAAA,CAAmB0B,GAAA,CAAIU,GAAG;kBAAA;4BAChE5D,CAAA,CAAE;iCAEL,IAAA6B,WAAA,CAAAG,GAAA,EAACQ,OAAA,CAAAC,MAAM;kBAACkB,OAAA,EAAQ;kBAAcjB,OAAA,EAASA,CAAA,KAAM;oBAAA;oBAAA5C,cAAA,GAAAC,CAAA;oBAAAD,cAAA,GAAAG,CAAA;oBAAA,OAAA0B,sBAAA,CAAuBuB,GAAA,CAAIU,GAAG;kBAAA;4BACxE5D,CAAA,CAAE;;;eAXMkD,GAAA,CAAIU,GAAG;UAAA;;;;;AAqBpC","ignoreList":[]}