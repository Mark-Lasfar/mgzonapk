{"version":3,"names":["default","cov_grqq8z38","f","s","SellerPublicPage","generateMetadata","params","locale","customSiteUrl","t","_server","getTranslations","namespace","sellerResult","_selleractions","getSellerByCustomSiteUrl","decodeURIComponent","success","b","title","seller","data","businessName","description","_jsxruntime","jsxs","className","jsx","error","subscription","status","productsResult","getProducts","userId","limit","products","customStyles","backgroundColor","settings","customSite","primaryColor","bannerImage","theme","style","_image","src","alt","layout","objectFit","logo","width","height","display","showContactInfo","email","phone","showRating","metrics","rating","length","_productslider","name","customSections","map","section","index","_reactmarkdown","content"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/[customSiteUrl]/page.tsx"],"sourcesContent":["import { getTranslations } from \"next-intl/server\";\nimport { getSellerByCustomSiteUrl, getProducts } from \"@/lib/actions/seller.actions\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\nimport ProductSlider from \"@/components/shared/product/product-slider\";\nimport ReactMarkdown from \"react-markdown\";\n\nexport async function generateMetadata({\n  params,\n}: {\n  params: Promise<{ locale: string; customSiteUrl: string }>;\n}) {\n  const { locale, customSiteUrl } = await params;\n  const t = await getTranslations({ locale, namespace: \"SellerPublic\" });\n\n  const sellerResult = await getSellerByCustomSiteUrl(decodeURIComponent(customSiteUrl), locale);\n\n  if (!sellerResult.success) {\n    return { title: t(\"error\") };\n  }\n\n  const seller = sellerResult.data;\n  return {\n    title: seller.businessName,\n    description: seller.description || t(\"noDescription\"),\n  };\n}\n\nexport default async function SellerPublicPage({\n  params,\n}: {\n  params: Promise<{ locale: string; customSiteUrl: string }>;\n}) {\n  const { locale, customSiteUrl } = await params;\n  const t = await getTranslations(\"SellerPublic\");\n\n  // Fetch seller details\n  const sellerResult = await getSellerByCustomSiteUrl(decodeURIComponent(customSiteUrl), locale);\n\n  if (!sellerResult.success) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\">{t(\"error\")}</h1>\n        <p>{sellerResult.error}</p>\n      </div>\n    );\n  }\n\n  const seller = sellerResult.data;\n\n  // Check if seller has an active subscription\n  if (seller.subscription?.status !== \"active\") {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\">{t(\"inactiveSubscription\")}</h1>\n        <p>{t(\"inactiveMessage\")}</p>\n      </div>\n    );\n  }\n\n  // Fetch seller's products\n  const productsResult = await getProducts(seller.userId, { status: \"active\", limit: 12 }, locale);\n\n  if (!productsResult.success) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\">{t(\"error\")}</h1>\n        <p>{productsResult.error}</p>\n      </div>\n    );\n  }\n\n  const { products } = productsResult.data;\n\n  // Apply custom styles from seller settings\n  const customStyles = {\n    backgroundColor: seller.settings?.customSite?.primaryColor || \"#ffffff\",\n    bannerImage: seller.settings?.customSite?.bannerImage || null,\n    theme: seller.settings?.customSite?.theme || \"default\",\n  };\n\n  return (\n    <div\n      className={`min-h-screen ${\n        customStyles.theme === \"dark\" ? \"bg-gray-900 text-white\" : \"bg-white text-gray-900\"\n      }`}\n      style={{ backgroundColor: customStyles.backgroundColor }}\n    >\n      {/* Banner */}\n      {customStyles.bannerImage && (\n        <div className=\"relative h-64 w-full\">\n          <Image\n            src={customStyles.bannerImage}\n            alt={`${seller.businessName} Banner`}\n            layout=\"fill\"\n            objectFit=\"cover\"\n            className=\"opacity-90\"\n          />\n          <div className=\"absolute inset-0 flex items-center justify-center\">\n            <h1 className=\"text-4xl font-bold text-white drop-shadow-lg\">\n              {seller.businessName}\n            </h1>\n          </div>\n        </div>\n      )}\n\n      {/* Seller Info */}\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"flex flex-col md:flex-row items-center gap-6 mb-8\">\n          {seller.logo && (\n            <Image\n              src={seller.logo}\n              alt={`${seller.businessName} Logo`}\n              width={150}\n              height={150}\n              className=\"rounded-full\"\n            />\n          )}\n          <div>\n            <h2 className=\"text-2xl font-semibold\">{seller.businessName}</h2>\n            <p className=\"text-gray-600\">{seller.description || t(\"noDescription\")}</p>\n            {seller.settings?.display?.showContactInfo && (\n              <p className=\"text-gray-600\">\n                {t(\"contact\")}: {seller.email} | {seller.phone}\n              </p>\n            )}\n            {seller.settings?.display?.showRating && (\n              <p className=\"text-yellow-500\">Rating: {seller.metrics?.rating || 0} â˜…</p>\n            )}\n          </div>\n        </div>\n\n        {/* Products */}\n        <h2 className=\"text-2xl font-semibold mb-4\">{t(\"products\")}</h2>\n        {products.length === 0 ? (\n          <p>{t(\"noProducts\")}</p>\n        ) : (\n          <ProductSlider\n            products={products}\n            title={t(\"featuredProducts\", { name: seller.businessName })}\n          />\n        )}\n      </div>\n\n      {/* Custom Sections (if defined by seller) */}\n      {seller.settings?.customSite?.customSections?.map((section: any, index: number) => (\n        <div key={index} className=\"container mx-auto px-4 py-8\">\n          <h2 className=\"text-2xl font-semibold mb-4\">{section.title}</h2>\n          <section className=\"text-justify text-lg\">\n            <ReactMarkdown>{section.content}</ReactMarkdown>\n          </section>\n        </div>\n      ))}\n    </div>\n  );\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}