{"version":3,"names":["default","cov_1xvrm9ofts","f","s","AccountPage","metadata","title","session","_auth","auth","user","id","b","_jsxruntime","jsx","userRole","role","isAdmin","isSeller","pointsBalance","pointsHistory","_pointsactions","getPointsBalance","getPointsHistory","error","console","jsxs","className","_card","Card","_link","href","CardContent","_lucidereact","PackageCheckIcon","User","Home","Crown","Briefcase","length","map","tx","description","type","amount","_utils","formatDateTime","createdAt","dateTime","_id","_browsinghistorylist"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/account/page.tsx"],"sourcesContent":["import { auth } from '@/auth'\nimport BrowsingHistoryList from '@/components/shared/browsing-history-list'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Home, PackageCheckIcon, User, Crown, Briefcase } from 'lucide-react'\nimport { Metadata } from 'next'\nimport Link from 'next/link'\nimport { getPointsBalance, getPointsHistory } from '@/lib/actions/points.actions'\nimport { formatDateTime } from '@/lib/utils'\n\nexport const metadata: Metadata = {\n  title: 'Your Account',\n}\n\nexport default async function AccountPage() {\n  const session = await auth()\n  if (!session?.user?.id) {\n    return <div>Please log in</div>\n  }\n\n  const userRole = session.user.role || 'USER'\n  const isAdmin = userRole === 'ADMIN'\n  const isSeller = userRole === 'SELLER'\n\n  let pointsBalance = 0\n  let pointsHistory: Array<{ _id: string; amount: number; type: 'earn' | 'redeem'; description: string; createdAt: Date }> = []\n\n  try {\n    pointsBalance = await getPointsBalance(session.user.id)\n    pointsHistory = await getPointsHistory(session.user.id)\n  } catch (error) {\n    console.error('Error fetching points:', error)\n  }\n\n  return (\n    <div>\n      <h1 className=\"h1-bold py-4\">Your Account</h1>\n      <div className=\"grid md:grid-cols-3 gap-4 items-stretch\">\n        <Card>\n          <Link href=\"/account/orders\">\n            <CardContent className=\"flex items-start gap-4 p-6\">\n              <PackageCheckIcon className=\"w-12 h-12\" />\n              <div>\n                <h2 className=\"text-xl font-bold\">Orders</h2>\n                <p className=\"text-muted-foreground\">\n                  Track, return, cancel an order, download invoice or buy again\n                </p>\n              </div>\n            </CardContent>\n          </Link>\n        </Card>\n        <Card>\n          <Link href=\"/account/manage\">\n            <CardContent className=\"flex items-start gap-4 p-6\">\n              <User className=\"w-12 h-12\" />\n              <div>\n                <h2 className=\"text-xl font-bold\">Login & Security</h2>\n                <p className=\"text-muted-foreground\">\n                  Manage password, email and mobile number\n                </p>\n              </div>\n            </CardContent>\n          </Link>\n        </Card>\n        <Card>\n          <Link href=\"/account/addresses\">\n            <CardContent className=\"flex items-start gap-4 p-6\">\n              <Home className=\"w-12 h-12\" />\n              <div>\n                <h2 className=\"text-xl font-bold\">Addresses</h2>\n                <p className=\"text-muted-foreground\">\n                  Edit, remove or set default address\n                </p>\n              </div>\n            </CardContent>\n          </Link>\n        </Card>\n        <Card>\n          <Link href=\"/account/subscriptions\">\n            <CardContent className=\"flex items-start gap-4 p-6\">\n              <Crown className=\"w-12 h-12\" />\n              <div>\n                <h2 className=\"text-xl font-bold\">Subscriptions</h2>\n                <p className=\"text-muted-foreground\">\n                  Explore or manage your subscription plans.\n                </p>\n              </div>\n            </CardContent>\n          </Link>\n        </Card>\n        {isSeller ? (\n          <Card>\n            <Link href=\"/seller/dashboard\">\n              <CardContent className=\"flex items-start gap-4 p-6\">\n                <Briefcase className=\"w-12 h-12\" />\n                <div>\n                  <h2 className=\"text-xl font-bold\">Seller Dashboard</h2>\n                  <p className=\"text-muted-foreground\">\n                    Manage your products, orders, and analytics.\n                  </p>\n                </div>\n            </CardContent>\n            </Link>\n          </Card>\n        ) : (\n          <Card>\n            <Link href=\"/seller/registration\">\n              <CardContent className=\"flex items-start gap-4 p-6\">\n                <Briefcase className=\"w-12 h-12\" />\n                <div>\n                  <h2 className=\"text-xl font-bold\">Start Selling</h2>\n                  <p className=\"text-muted-foreground\">\n                    Try selling and earning with us. Register as a seller.\n                  </p>\n                </div>\n              </CardContent>\n            </Link>\n          </Card>\n        )}\n      </div>\n      {(isAdmin || isSeller) && (\n        <div className=\"mt-8\">\n          <h2 className=\"text-xl font-bold\">Your Role</h2>\n          <p className=\"text-muted-foreground\">\n            You are logged in as: {userRole}\n          </p>\n        </div>\n      )}\n      <div className=\"mt-8\">\n        <h2 className=\"text-xl font-bold\">Points Balance</h2>\n        <p className=\"text-muted-foreground\">Your current points: {pointsBalance}</p>\n        <h3 className=\"text-lg font-bold mt-4\">Points History</h3>\n        <div className=\"mt-2\">\n          {pointsHistory.length > 0 ? (\n            <ul className=\"space-y-2\">\n              {pointsHistory.map((tx) => (\n                <li key={tx._id} className=\"border-b py-2\">\n                  <p>{tx.description}</p>\n                  <p>\n                    {tx.type === 'earn' ? '+' : '-'}{tx.amount} points on{' '}\n                    {formatDateTime(tx.createdAt).dateTime}\n                  </p>\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p>No points transactions yet.</p>\n          )}\n        </div>\n      </div>\n      <BrowsingHistoryList className=\"mt-16\" />\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]}