a549f01481385f18f3aae080b4c85ddd
'use server';
"use strict";

/* istanbul ignore next */
function cov_ckxu6mrex() {
  var path = "/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/lib/actions/setting.actions.ts";
  var hash = "1625f61368b029048097d9af1eed0896f1bbba9b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/lib/actions/setting.actions.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 31,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 34
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 34
        }
      },
      "6": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 26
        }
      },
      "7": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 37
        }
      },
      "8": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 26,
          column: 35
        }
      },
      "9": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 29
        }
      },
      "10": {
        start: {
          line: 32,
          column: 15
        },
        end: {
          line: 32,
          column: 31
        }
      },
      "11": {
        start: {
          line: 33,
          column: 28
        },
        end: {
          line: 33,
          column: 72
        }
      },
      "12": {
        start: {
          line: 34,
          column: 36
        },
        end: {
          line: 34,
          column: 99
        }
      },
      "13": {
        start: {
          line: 35,
          column: 12
        },
        end: {
          line: 35,
          column: 28
        }
      },
      "14": {
        start: {
          line: 36,
          column: 15
        },
        end: {
          line: 36,
          column: 34
        }
      },
      "15": {
        start: {
          line: 37,
          column: 17
        },
        end: {
          line: 37,
          column: 40
        }
      },
      "16": {
        start: {
          line: 39,
          column: 4
        },
        end: {
          line: 41,
          column: 6
        }
      },
      "17": {
        start: {
          line: 43,
          column: 26
        },
        end: {
          line: 43,
          column: 32
        }
      },
      "18": {
        start: {
          line: 44,
          column: 0
        },
        end: {
          line: 44,
          column: 76
        }
      },
      "19": {
        start: {
          line: 46,
          column: 25
        },
        end: {
          line: 100,
          column: 1
        }
      },
      "20": {
        start: {
          line: 104,
          column: 4
        },
        end: {
          line: 108,
          column: 5
        }
      },
      "21": {
        start: {
          line: 105,
          column: 8
        },
        end: {
          line: 107,
          column: 10
        }
      },
      "22": {
        start: {
          line: 109,
          column: 4
        },
        end: {
          line: 116,
          column: 6
        }
      },
      "23": {
        start: {
          line: 119,
          column: 4
        },
        end: {
          line: 128,
          column: 5
        }
      },
      "24": {
        start: {
          line: 120,
          column: 8
        },
        end: {
          line: 120,
          column: 43
        }
      },
      "25": {
        start: {
          line: 121,
          column: 24
        },
        end: {
          line: 121,
          column: 68
        }
      },
      "26": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 122,
          column: 39
        }
      },
      "27": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 124,
          column: 66
        }
      },
      "28": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 127,
          column: 10
        }
      },
      "29": {
        start: {
          line: 130,
          column: 19
        },
        end: {
          line: 148,
          column: 2
        }
      },
      "30": {
        start: {
          line: 131,
          column: 4
        },
        end: {
          line: 147,
          column: 5
        }
      },
      "31": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 134,
          column: 9
        }
      },
      "32": {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 133,
          column: 96
        }
      },
      "33": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 135,
          column: 43
        }
      },
      "34": {
        start: {
          line: 136,
          column: 24
        },
        end: {
          line: 136,
          column: 68
        }
      },
      "35": {
        start: {
          line: 137,
          column: 32
        },
        end: {
          line: 139,
          column: 9
        }
      },
      "36": {
        start: {
          line: 140,
          column: 8
        },
        end: {
          line: 140,
          column: 59
        }
      },
      "37": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 141,
          column: 47
        }
      },
      "38": {
        start: {
          line: 143,
          column: 8
        },
        end: {
          line: 143,
          column: 57
        }
      },
      "39": {
        start: {
          line: 144,
          column: 8
        },
        end: {
          line: 146,
          column: 10
        }
      },
      "40": {
        start: {
          line: 150,
          column: 4
        },
        end: {
          line: 173,
          column: 5
        }
      },
      "41": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 151,
          column: 43
        }
      },
      "42": {
        start: {
          line: 152,
          column: 31
        },
        end: {
          line: 156,
          column: 10
        }
      },
      "43": {
        start: {
          line: 157,
          column: 8
        },
        end: {
          line: 159,
          column: 9
        }
      },
      "44": {
        start: {
          line: 158,
          column: 12
        },
        end: {
          line: 158,
          column: 57
        }
      },
      "45": {
        start: {
          line: 160,
          column: 30
        },
        end: {
          line: 160,
          column: 72
        }
      },
      "46": {
        start: {
          line: 161,
          column: 8
        },
        end: {
          line: 161,
          column: 57
        }
      },
      "47": {
        start: {
          line: 162,
          column: 8
        },
        end: {
          line: 166,
          column: 10
        }
      },
      "48": {
        start: {
          line: 168,
          column: 8
        },
        end: {
          line: 168,
          column: 57
        }
      },
      "49": {
        start: {
          line: 169,
          column: 8
        },
        end: {
          line: 172,
          column: 10
        }
      },
      "50": {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 194,
          column: 5
        }
      },
      "51": {
        start: {
          line: 177,
          column: 28
        },
        end: {
          line: 177,
          column: 57
        }
      },
      "52": {
        start: {
          line: 178,
          column: 8
        },
        end: {
          line: 183,
          column: 11
        }
      },
      "53": {
        start: {
          line: 184,
          column: 8
        },
        end: {
          line: 187,
          column: 10
        }
      },
      "54": {
        start: {
          line: 189,
          column: 8
        },
        end: {
          line: 189,
          column: 56
        }
      },
      "55": {
        start: {
          line: 190,
          column: 8
        },
        end: {
          line: 193,
          column: 10
        }
      },
      "56": {
        start: {
          line: 197,
          column: 4
        },
        end: {
          line: 197,
          column: 44
        }
      },
      "57": {
        start: {
          line: 198,
          column: 4
        },
        end: {
          line: 201,
          column: 6
        }
      },
      "58": {
        start: {
          line: 204,
          column: 21
        },
        end: {
          line: 204,
          column: 90
        }
      },
      "59": {
        start: {
          line: 205,
          column: 4
        },
        end: {
          line: 205,
          column: 36
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 24
          },
          end: {
            line: 13,
            column: 25
          }
        },
        loc: {
          start: {
            line: 13,
            column: 35
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 24
          },
          end: {
            line: 16,
            column: 25
          }
        },
        loc: {
          start: {
            line: 16,
            column: 35
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 19,
            column: 16
          },
          end: {
            line: 19,
            column: 17
          }
        },
        loc: {
          start: {
            line: 19,
            column: 27
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 22,
            column: 27
          },
          end: {
            line: 22,
            column: 28
          }
        },
        loc: {
          start: {
            line: 22,
            column: 38
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 22
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 25,
            column: 25
          },
          end: {
            line: 25,
            column: 26
          }
        },
        loc: {
          start: {
            line: 25,
            column: 36
          },
          end: {
            line: 27,
            column: 5
          }
        },
        line: 25
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 28,
            column: 19
          },
          end: {
            line: 28,
            column: 20
          }
        },
        loc: {
          start: {
            line: 28,
            column: 30
          },
          end: {
            line: 30,
            column: 5
          }
        },
        line: 28
      },
      "7": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 38,
            column: 9
          },
          end: {
            line: 38,
            column: 33
          }
        },
        loc: {
          start: {
            line: 38,
            column: 39
          },
          end: {
            line: 42,
            column: 1
          }
        },
        line: 38
      },
      "8": {
        name: "ensureSettings",
        decl: {
          start: {
            line: 103,
            column: 13
          },
          end: {
            line: 103,
            column: 27
          }
        },
        loc: {
          start: {
            line: 103,
            column: 38
          },
          end: {
            line: 117,
            column: 1
          }
        },
        line: 103
      },
      "9": {
        name: "getNoCachedSetting",
        decl: {
          start: {
            line: 118,
            column: 15
          },
          end: {
            line: 118,
            column: 33
          }
        },
        loc: {
          start: {
            line: 118,
            column: 36
          },
          end: {
            line: 129,
            column: 1
          }
        },
        line: 118
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 130,
            column: 37
          },
          end: {
            line: 130,
            column: 38
          }
        },
        loc: {
          start: {
            line: 130,
            column: 47
          },
          end: {
            line: 148,
            column: 1
          }
        },
        line: 130
      },
      "11": {
        name: "updateSetting",
        decl: {
          start: {
            line: 149,
            column: 15
          },
          end: {
            line: 149,
            column: 28
          }
        },
        loc: {
          start: {
            line: 149,
            column: 41
          },
          end: {
            line: 174,
            column: 1
          }
        },
        line: 149
      },
      "12": {
        name: "setCurrencyOnServer",
        decl: {
          start: {
            line: 175,
            column: 15
          },
          end: {
            line: 175,
            column: 34
          }
        },
        loc: {
          start: {
            line: 175,
            column: 48
          },
          end: {
            line: 195,
            column: 1
          }
        },
        line: 175
      },
      "13": {
        name: "clearSettingsCache",
        decl: {
          start: {
            line: 196,
            column: 15
          },
          end: {
            line: 196,
            column: 33
          }
        },
        loc: {
          start: {
            line: 196,
            column: 36
          },
          end: {
            line: 202,
            column: 1
          }
        },
        line: 196
      },
      "14": {
        name: "getSettingWithOptions",
        decl: {
          start: {
            line: 203,
            column: 15
          },
          end: {
            line: 203,
            column: 36
          }
        },
        loc: {
          start: {
            line: 203,
            column: 51
          },
          end: {
            line: 206,
            column: 1
          }
        },
        line: 203
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 39,
            column: 11
          },
          end: {
            line: 41,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 39,
            column: 35
          },
          end: {
            line: 39,
            column: 38
          }
        }, {
          start: {
            line: 39,
            column: 41
          },
          end: {
            line: 41,
            column: 5
          }
        }],
        line: 39
      },
      "1": {
        loc: {
          start: {
            line: 39,
            column: 11
          },
          end: {
            line: 39,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 39,
            column: 11
          },
          end: {
            line: 39,
            column: 14
          }
        }, {
          start: {
            line: 39,
            column: 18
          },
          end: {
            line: 39,
            column: 32
          }
        }],
        line: 39
      },
      "2": {
        loc: {
          start: {
            line: 44,
            column: 35
          },
          end: {
            line: 44,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 44,
            column: 35
          },
          end: {
            line: 44,
            column: 67
          }
        }, {
          start: {
            line: 44,
            column: 71
          },
          end: {
            line: 44,
            column: 75
          }
        }],
        line: 44
      },
      "3": {
        loc: {
          start: {
            line: 51,
            column: 13
          },
          end: {
            line: 51,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 51,
            column: 13
          },
          end: {
            line: 51,
            column: 44
          }
        }, {
          start: {
            line: 51,
            column: 48
          },
          end: {
            line: 51,
            column: 78
          }
        }],
        line: 51
      },
      "4": {
        loc: {
          start: {
            line: 104,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 104,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 104
      },
      "5": {
        loc: {
          start: {
            line: 104,
            column: 8
          },
          end: {
            line: 104,
            column: 35
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 104,
            column: 8
          },
          end: {
            line: 104,
            column: 17
          }
        }, {
          start: {
            line: 104,
            column: 21
          },
          end: {
            line: 104,
            column: 35
          }
        }],
        line: 104
      },
      "6": {
        loc: {
          start: {
            line: 132,
            column: 8
          },
          end: {
            line: 134,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 132,
            column: 8
          },
          end: {
            line: 134,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 132
      },
      "7": {
        loc: {
          start: {
            line: 137,
            column: 32
          },
          end: {
            line: 139,
            column: 9
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 137,
            column: 42
          },
          end: {
            line: 137,
            column: 77
          }
        }, {
          start: {
            line: 137,
            column: 80
          },
          end: {
            line: 139,
            column: 9
          }
        }],
        line: 137
      },
      "8": {
        loc: {
          start: {
            line: 137,
            column: 80
          },
          end: {
            line: 139,
            column: 9
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 137,
            column: 80
          },
          end: {
            line: 137,
            column: 107
          }
        }, {
          start: {
            line: 137,
            column: 111
          },
          end: {
            line: 139,
            column: 9
          }
        }],
        line: 137
      },
      "9": {
        loc: {
          start: {
            line: 157,
            column: 8
          },
          end: {
            line: 159,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 157,
            column: 8
          },
          end: {
            line: 159,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 157
      },
      "10": {
        loc: {
          start: {
            line: 203,
            column: 37
          },
          end: {
            line: 203,
            column: 49
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 203,
            column: 47
          },
          end: {
            line: 203,
            column: 49
          }
        }],
        line: 203
      },
      "11": {
        loc: {
          start: {
            line: 204,
            column: 21
          },
          end: {
            line: 204,
            column: 90
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 204,
            column: 43
          },
          end: {
            line: 204,
            column: 69
          }
        }, {
          start: {
            line: 204,
            column: 72
          },
          end: {
            line: 204,
            column: 90
          }
        }],
        line: 204
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0],
      "11": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/lib/actions/setting.actions.ts"],
      sourcesContent: ["'use server';\n\nimport { cache } from 'react';\nimport { ISettingInput } from '@/types';\nimport data from '../data';\nimport Setting from '../db/models/setting.model';\nimport { connectToDatabase } from '../db';\nimport { formatError } from '../utils';\nimport { cookies } from 'next/headers';\n\n// Type for responses\ninterface SettingResponse<T = void> {\n  success: boolean;\n  message: string;\n  data?: T;\n}\n\n// Global cache for settings\ndeclare global {\n  var cachedSettings: ISettingInput | null | undefined;\n}\nconst globalForSettings = global as { cachedSettings: ISettingInput | null | undefined };\nglobalForSettings.cachedSettings = globalForSettings.cachedSettings || null;\n\n// Default settings object\nconst DEFAULT_SETTINGS: ISettingInput = {\n  site: {\n    name: 'MGZon',\n    slogan: 'Your Ultimate Shopping Destination',\n    description: 'Shop online for the best products at great prices',\n    url: process.env.NEXT_PUBLIC_APP_URL || 'https://hager-zon.vercel.app',\n    email: 'support@mgzon.com',\n    address: '123 Main St',\n    phone: '+1234567890',\n    logo: 'icons/logo.svg',\n    keywords: 'ecommerce, shopping',\n    author: 'MGZon Team',\n    copyright: '\xA9 2024 MGZon',\n  },\n  common: {\n    pageSize: 9,\n    isMaintenanceMode: false,\n    freeShippingMinPrice: 0,\n    defaultTheme: 'light',\n    defaultColor: 'gold',\n  },\n  availableLanguages: [\n    {\n      name: 'English',\n      code: 'en-US',\n    },\n  ],\n  carousels: [],\n  defaultLanguage: 'en-US',\n  availableCurrencies: [\n    {\n      name: 'US Dollar',\n      code: 'USD',\n      symbol: '$',\n      convertRate: 1,\n    },\n  ],\n  defaultCurrency: 'USD',\n  availablePaymentMethods: [\n    {\n      name: 'Credit Card',\n      commission: 0,\n    },\n  ],\n  defaultPaymentMethod: 'Credit Card',\n  availableDeliveryDates: [\n    {\n      name: 'Standard Shipping',\n      daysToDeliver: 3,\n      shippingPrice: 0,\n      freeShippingMinPrice: 50,\n    },\n  ],\n  defaultDeliveryDate: 'Standard Shipping',\n};\n\n/**\n * Ensures settings are not null and have proper defaults\n */\nfunction ensureSettings(settings: ISettingInput | null | undefined): ISettingInput {\n  if (!settings || !settings.site) {\n    return { ...DEFAULT_SETTINGS };\n  }\n  return {\n    ...DEFAULT_SETTINGS,\n    ...settings,\n    site: {\n      ...DEFAULT_SETTINGS.site,\n      ...settings.site,\n    },\n  };\n}\n\n/**\n * Get settings without cache\n */\nexport async function getNoCachedSetting(): Promise<ISettingInput> {\n  try {\n    await connectToDatabase();\n    const setting = await Setting.findOne().lean();\n    return ensureSettings(setting);\n  } catch (error) {\n    console.error('Error fetching uncached settings:', error);\n    return { ...DEFAULT_SETTINGS };\n  }\n}\n\n/**\n * Get settings with cache (React cache)\n */\nexport const getSetting = cache(async (): Promise<ISettingInput> => {\n  try {\n    if (globalForSettings.cachedSettings) {\n      return ensureSettings(\n        JSON.parse(JSON.stringify(globalForSettings.cachedSettings))\n      );\n    }\n\n    await connectToDatabase();\n    const setting = await Setting.findOne().lean();\n\n    const settingsToCache = setting\n      ? JSON.parse(JSON.stringify(setting))\n      : data.settings?.[0] || { ...DEFAULT_SETTINGS };\n\n    globalForSettings.cachedSettings = settingsToCache;\n\n    return ensureSettings(settingsToCache);\n  } catch (error) {\n    console.error('Error fetching settings:', error);\n    return { ...DEFAULT_SETTINGS };\n  }\n});\n\n/**\n * Update settings\n */\nexport async function updateSetting(\n  newSetting: ISettingInput\n): Promise<SettingResponse<ISettingInput>> {\n  try {\n    await connectToDatabase();\n    const updatedSetting = await Setting.findOneAndUpdate({}, newSetting, {\n      upsert: true,\n      new: true,\n      lean: true,\n    });\n\n    if (!updatedSetting) {\n      throw new Error('Failed to update settings');\n    }\n\n    const parsedSetting = JSON.parse(JSON.stringify(updatedSetting));\n    globalForSettings.cachedSettings = parsedSetting;\n\n    return {\n      success: true,\n      message: 'Setting updated successfully',\n      data: parsedSetting,\n    };\n  } catch (error) {\n    console.error('Error updating settings:', error);\n    return {\n      success: false,\n      message: formatError(error),\n    };\n  }\n}\n\n/**\n * Update currency in cookies\n */\nexport async function setCurrencyOnServer(\n  newCurrency: string\n): Promise<SettingResponse> {\n  try {\n    const cookieStore = await cookies();\n    cookieStore.set('currency', newCurrency, {\n      path: '/',\n      maxAge: 60 * 60 * 24 * 30, // 30 days\n      secure: process.env.NODE_ENV === 'production',\n      sameSite: 'lax',\n    });\n\n    return {\n      success: true,\n      message: 'Currency updated successfully',\n    };\n  } catch (error) {\n    console.error('Error setting currency:', error);\n    return {\n      success: false,\n      message: formatError(error),\n    };\n  }\n}\n\n/**\n * Clear settings cache\n */\nexport async function clearSettingsCache(): Promise<SettingResponse> {\n  globalForSettings.cachedSettings = null;\n  return { success: true, message: 'Cache cleared successfully' };\n}\n\n/**\n * Get settings with optional cache bypass\n */\nexport async function getSettingWithOptions(\n  options: { bypassCache?: boolean } = {}\n): Promise<ISettingInput> {\n  const settings = options.bypassCache\n    ? await getNoCachedSetting()\n    : await getSetting();\n  return ensureSettings(settings);\n}"],
      names: ["clearSettingsCache", "getNoCachedSetting", "getSetting", "getSettingWithOptions", "setCurrencyOnServer", "updateSetting", "globalForSettings", "global", "cachedSettings", "DEFAULT_SETTINGS", "site", "name", "slogan", "description", "url", "process", "env", "NEXT_PUBLIC_APP_URL", "email", "address", "phone", "logo", "keywords", "author", "copyright", "common", "pageSize", "isMaintenanceMode", "freeShippingMinPrice", "defaultTheme", "defaultColor", "availableLanguages", "code", "carousels", "defaultLanguage", "availableCurrencies", "symbol", "convertRate", "defaultCurrency", "availablePaymentMethods", "commission", "defaultPaymentMethod", "availableDeliveryDates", "daysToDeliver", "shippingPrice", "defaultDeliveryDate", "ensureSettings", "settings", "connectToDatabase", "setting", "Setting", "findOne", "lean", "error", "console", "cache", "JSON", "parse", "stringify", "settingsToCache", "data", "newSetting", "updatedSetting", "findOneAndUpdate", "upsert", "new", "Error", "parsedSetting", "success", "message", "formatError", "newCurrency", "cookieStore", "cookies", "set", "path", "maxAge", "secure", "NODE_ENV", "sameSite", "options", "bypassCache"],
      mappings: "AAAA;;;;;;;;;;;;IA6MsBA,kBAAkB;eAAlBA;;IAxGAC,kBAAkB;eAAlBA;;IAcTC,UAAU;eAAVA;;IAkGSC,qBAAqB;eAArBA;;IApCAC,mBAAmB;eAAnBA;;IAnCAC,aAAa;eAAbA;;;uBA5IA;6DAEL;qEACG;oBACc;uBACN;yBACJ;;;;;;AAaxB,MAAMC,oBAAoBC;AAC1BD,kBAAkBE,cAAc,GAAGF,kBAAkBE,cAAc,IAAI;AAEvE,0BAA0B;AAC1B,MAAMC,mBAAkC;IACtCC,MAAM;QACJC,MAAM;QACNC,QAAQ;QACRC,aAAa;QACbC,KAAKC,QAAQC,GAAG,CAACC,mBAAmB,IAAI;QACxCC,OAAO;QACPC,SAAS;QACTC,OAAO;QACPC,MAAM;QACNC,UAAU;QACVC,QAAQ;QACRC,WAAW;IACb;IACAC,QAAQ;QACNC,UAAU;QACVC,mBAAmB;QACnBC,sBAAsB;QACtBC,cAAc;QACdC,cAAc;IAChB;IACAC,oBAAoB;QAClB;YACEpB,MAAM;YACNqB,MAAM;QACR;KACD;IACDC,WAAW,EAAE;IACbC,iBAAiB;IACjBC,qBAAqB;QACnB;YACExB,MAAM;YACNqB,MAAM;YACNI,QAAQ;YACRC,aAAa;QACf;KACD;IACDC,iBAAiB;IACjBC,yBAAyB;QACvB;YACE5B,MAAM;YACN6B,YAAY;QACd;KACD;IACDC,sBAAsB;IACtBC,wBAAwB;QACtB;YACE/B,MAAM;YACNgC,eAAe;YACfC,eAAe;YACfhB,sBAAsB;QACxB;KACD;IACDiB,qBAAqB;AACvB;AAEA;;CAEC,GACD,SAASC,eAAeC,QAA0C;IAChE,IAAI,CAACA,YAAY,CAACA,SAASrC,IAAI,EAAE;QAC/B,OAAO;YAAE,GAAGD,gBAAgB;QAAC;IAC/B;IACA,OAAO;QACL,GAAGA,gBAAgB;QACnB,GAAGsC,QAAQ;QACXrC,MAAM;YACJ,GAAGD,iBAAiBC,IAAI;YACxB,GAAGqC,SAASrC,IAAI;QAClB;IACF;AACF;AAKO,eAAeT;IACpB,IAAI;QACF,MAAM+C,IAAAA,qBAAiB;QACvB,MAAMC,UAAU,MAAMC,qBAAO,CAACC,OAAO,GAAGC,IAAI;QAC5C,OAAON,eAAeG;IACxB,EAAE,OAAOI,OAAO;QACdC,QAAQD,KAAK,CAAC,qCAAqCA;QACnD,OAAO;YAAE,GAAG5C,gBAAgB;QAAC;IAC/B;AACF;AAKO,MAAMP,aAAaqD,IAAAA,YAAK,EAAC;IAC9B,IAAI;QACF,IAAIjD,kBAAkBE,cAAc,EAAE;YACpC,OAAOsC,eACLU,KAAKC,KAAK,CAACD,KAAKE,SAAS,CAACpD,kBAAkBE,cAAc;QAE9D;QAEA,MAAMwC,IAAAA,qBAAiB;QACvB,MAAMC,UAAU,MAAMC,qBAAO,CAACC,OAAO,GAAGC,IAAI;QAE5C,MAAMO,kBAAkBV,UACpBO,KAAKC,KAAK,CAACD,KAAKE,SAAS,CAACT,YAC1BW,aAAI,CAACb,QAAQ,EAAE,CAAC,EAAE,IAAI;YAAE,GAAGtC,gBAAgB;QAAC;QAEhDH,kBAAkBE,cAAc,GAAGmD;QAEnC,OAAOb,eAAea;IACxB,EAAE,OAAON,OAAO;QACdC,QAAQD,KAAK,CAAC,4BAA4BA;QAC1C,OAAO;YAAE,GAAG5C,gBAAgB;QAAC;IAC/B;AACF;AAKO,eAAeJ,cACpBwD,UAAyB;IAEzB,IAAI;QACF,MAAMb,IAAAA,qBAAiB;QACvB,MAAMc,iBAAiB,MAAMZ,qBAAO,CAACa,gBAAgB,CAAC,CAAC,GAAGF,YAAY;YACpEG,QAAQ;YACRC,KAAK;YACLb,MAAM;QACR;QAEA,IAAI,CAACU,gBAAgB;YACnB,MAAM,IAAII,MAAM;QAClB;QAEA,MAAMC,gBAAgBX,KAAKC,KAAK,CAACD,KAAKE,SAAS,CAACI;QAChDxD,kBAAkBE,cAAc,GAAG2D;QAEnC,OAAO;YACLC,SAAS;YACTC,SAAS;YACTT,MAAMO;QACR;IACF,EAAE,OAAOd,OAAO;QACdC,QAAQD,KAAK,CAAC,4BAA4BA;QAC1C,OAAO;YACLe,SAAS;YACTC,SAASC,IAAAA,kBAAW,EAACjB;QACvB;IACF;AACF;AAKO,eAAejD,oBACpBmE,WAAmB;IAEnB,IAAI;QACF,MAAMC,cAAc,MAAMC,IAAAA,gBAAO;QACjCD,YAAYE,GAAG,CAAC,YAAYH,aAAa;YACvCI,MAAM;YACNC,QAAQ,KAAK,KAAK,KAAK;YACvBC,QAAQ9D,QAAQC,GAAG,CAAC8D,QAAQ,KAAK;YACjCC,UAAU;QACZ;QAEA,OAAO;YACLX,SAAS;YACTC,SAAS;QACX;IACF,EAAE,OAAOhB,OAAO;QACdC,QAAQD,KAAK,CAAC,2BAA2BA;QACzC,OAAO;YACLe,SAAS;YACTC,SAASC,IAAAA,kBAAW,EAACjB;QACvB;IACF;AACF;AAKO,eAAerD;IACpBM,kBAAkBE,cAAc,GAAG;IACnC,OAAO;QAAE4D,SAAS;QAAMC,SAAS;IAA6B;AAChE;AAKO,eAAelE,sBACpB6E,UAAqC,CAAC,CAAC;IAEvC,MAAMjC,WAAWiC,QAAQC,WAAW,GAChC,MAAMhF,uBACN,MAAMC;IACV,OAAO4C,eAAeC;AACxB"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "1625f61368b029048097d9af1eed0896f1bbba9b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_ckxu6mrex = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_ckxu6mrex();
cov_ckxu6mrex().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[0]++;
  cov_ckxu6mrex().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_ckxu6mrex().s[3]++;
_export(exports, {
  clearSettingsCache: function () {
    /* istanbul ignore next */
    cov_ckxu6mrex().f[1]++;
    cov_ckxu6mrex().s[4]++;
    return clearSettingsCache;
  },
  getNoCachedSetting: function () {
    /* istanbul ignore next */
    cov_ckxu6mrex().f[2]++;
    cov_ckxu6mrex().s[5]++;
    return getNoCachedSetting;
  },
  getSetting: function () {
    /* istanbul ignore next */
    cov_ckxu6mrex().f[3]++;
    cov_ckxu6mrex().s[6]++;
    return getSetting;
  },
  getSettingWithOptions: function () {
    /* istanbul ignore next */
    cov_ckxu6mrex().f[4]++;
    cov_ckxu6mrex().s[7]++;
    return getSettingWithOptions;
  },
  setCurrencyOnServer: function () {
    /* istanbul ignore next */
    cov_ckxu6mrex().f[5]++;
    cov_ckxu6mrex().s[8]++;
    return setCurrencyOnServer;
  },
  updateSetting: function () {
    /* istanbul ignore next */
    cov_ckxu6mrex().f[6]++;
    cov_ckxu6mrex().s[9]++;
    return updateSetting;
  }
});
const _react =
/* istanbul ignore next */
(cov_ckxu6mrex().s[10]++, require("react"));
const _data =
/* istanbul ignore next */
(/*#__PURE__*/cov_ckxu6mrex().s[11]++, _interop_require_default(require("../data")));
const _settingmodel =
/* istanbul ignore next */
(/*#__PURE__*/cov_ckxu6mrex().s[12]++, _interop_require_default(require("../db/models/setting.model")));
const _db =
/* istanbul ignore next */
(cov_ckxu6mrex().s[13]++, require("../db"));
const _utils =
/* istanbul ignore next */
(cov_ckxu6mrex().s[14]++, require("../utils"));
const _headers =
/* istanbul ignore next */
(cov_ckxu6mrex().s[15]++, require("next/headers"));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[7]++;
  cov_ckxu6mrex().s[16]++;
  return /* istanbul ignore next */(cov_ckxu6mrex().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_ckxu6mrex().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_ckxu6mrex().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_ckxu6mrex().b[0][1]++, {
    default: obj
  });
}
const globalForSettings =
/* istanbul ignore next */
(cov_ckxu6mrex().s[17]++, global);
/* istanbul ignore next */
cov_ckxu6mrex().s[18]++;
globalForSettings.cachedSettings =
/* istanbul ignore next */
(cov_ckxu6mrex().b[2][0]++, globalForSettings.cachedSettings) ||
/* istanbul ignore next */
(cov_ckxu6mrex().b[2][1]++, null);
// Default settings object
const DEFAULT_SETTINGS =
/* istanbul ignore next */
(cov_ckxu6mrex().s[19]++, {
  site: {
    name: 'MGZon',
    slogan: 'Your Ultimate Shopping Destination',
    description: 'Shop online for the best products at great prices',
    url:
    /* istanbul ignore next */
    (cov_ckxu6mrex().b[3][0]++, process.env.NEXT_PUBLIC_APP_URL) ||
    /* istanbul ignore next */
    (cov_ckxu6mrex().b[3][1]++, 'https://hager-zon.vercel.app'),
    email: 'support@mgzon.com',
    address: '123 Main St',
    phone: '+1234567890',
    logo: 'icons/logo.svg',
    keywords: 'ecommerce, shopping',
    author: 'MGZon Team',
    copyright: 'Â© 2024 MGZon'
  },
  common: {
    pageSize: 9,
    isMaintenanceMode: false,
    freeShippingMinPrice: 0,
    defaultTheme: 'light',
    defaultColor: 'gold'
  },
  availableLanguages: [{
    name: 'English',
    code: 'en-US'
  }],
  carousels: [],
  defaultLanguage: 'en-US',
  availableCurrencies: [{
    name: 'US Dollar',
    code: 'USD',
    symbol: '$',
    convertRate: 1
  }],
  defaultCurrency: 'USD',
  availablePaymentMethods: [{
    name: 'Credit Card',
    commission: 0
  }],
  defaultPaymentMethod: 'Credit Card',
  availableDeliveryDates: [{
    name: 'Standard Shipping',
    daysToDeliver: 3,
    shippingPrice: 0,
    freeShippingMinPrice: 50
  }],
  defaultDeliveryDate: 'Standard Shipping'
});
/**
 * Ensures settings are not null and have proper defaults
 */
function ensureSettings(settings) {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[8]++;
  cov_ckxu6mrex().s[20]++;
  if (
  /* istanbul ignore next */
  (cov_ckxu6mrex().b[5][0]++, !settings) ||
  /* istanbul ignore next */
  (cov_ckxu6mrex().b[5][1]++, !settings.site)) {
    /* istanbul ignore next */
    cov_ckxu6mrex().b[4][0]++;
    cov_ckxu6mrex().s[21]++;
    return {
      ...DEFAULT_SETTINGS
    };
  } else
  /* istanbul ignore next */
  {
    cov_ckxu6mrex().b[4][1]++;
  }
  cov_ckxu6mrex().s[22]++;
  return {
    ...DEFAULT_SETTINGS,
    ...settings,
    site: {
      ...DEFAULT_SETTINGS.site,
      ...settings.site
    }
  };
}
async function getNoCachedSetting() {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[9]++;
  cov_ckxu6mrex().s[23]++;
  try {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[24]++;
    await (0, _db.connectToDatabase)();
    const setting =
    /* istanbul ignore next */
    (cov_ckxu6mrex().s[25]++, await _settingmodel.default.findOne().lean());
    /* istanbul ignore next */
    cov_ckxu6mrex().s[26]++;
    return ensureSettings(setting);
  } catch (error) {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[27]++;
    console.error('Error fetching uncached settings:', error);
    /* istanbul ignore next */
    cov_ckxu6mrex().s[28]++;
    return {
      ...DEFAULT_SETTINGS
    };
  }
}
const getSetting =
/* istanbul ignore next */
(cov_ckxu6mrex().s[29]++, (0, _react.cache)(async () => {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[10]++;
  cov_ckxu6mrex().s[30]++;
  try {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[31]++;
    if (globalForSettings.cachedSettings) {
      /* istanbul ignore next */
      cov_ckxu6mrex().b[6][0]++;
      cov_ckxu6mrex().s[32]++;
      return ensureSettings(JSON.parse(JSON.stringify(globalForSettings.cachedSettings)));
    } else
    /* istanbul ignore next */
    {
      cov_ckxu6mrex().b[6][1]++;
    }
    cov_ckxu6mrex().s[33]++;
    await (0, _db.connectToDatabase)();
    const setting =
    /* istanbul ignore next */
    (cov_ckxu6mrex().s[34]++, await _settingmodel.default.findOne().lean());
    const settingsToCache =
    /* istanbul ignore next */
    (cov_ckxu6mrex().s[35]++, setting ?
    /* istanbul ignore next */
    (cov_ckxu6mrex().b[7][0]++, JSON.parse(JSON.stringify(setting))) :
    /* istanbul ignore next */
    (cov_ckxu6mrex().b[7][1]++,
    /* istanbul ignore next */
    (cov_ckxu6mrex().b[8][0]++, _data.default.settings?.[0]) ||
    /* istanbul ignore next */
    (cov_ckxu6mrex().b[8][1]++, {
      ...DEFAULT_SETTINGS
    })));
    /* istanbul ignore next */
    cov_ckxu6mrex().s[36]++;
    globalForSettings.cachedSettings = settingsToCache;
    /* istanbul ignore next */
    cov_ckxu6mrex().s[37]++;
    return ensureSettings(settingsToCache);
  } catch (error) {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[38]++;
    console.error('Error fetching settings:', error);
    /* istanbul ignore next */
    cov_ckxu6mrex().s[39]++;
    return {
      ...DEFAULT_SETTINGS
    };
  }
}));
async function updateSetting(newSetting) {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[11]++;
  cov_ckxu6mrex().s[40]++;
  try {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[41]++;
    await (0, _db.connectToDatabase)();
    const updatedSetting =
    /* istanbul ignore next */
    (cov_ckxu6mrex().s[42]++, await _settingmodel.default.findOneAndUpdate({}, newSetting, {
      upsert: true,
      new: true,
      lean: true
    }));
    /* istanbul ignore next */
    cov_ckxu6mrex().s[43]++;
    if (!updatedSetting) {
      /* istanbul ignore next */
      cov_ckxu6mrex().b[9][0]++;
      cov_ckxu6mrex().s[44]++;
      throw new Error('Failed to update settings');
    } else
    /* istanbul ignore next */
    {
      cov_ckxu6mrex().b[9][1]++;
    }
    const parsedSetting =
    /* istanbul ignore next */
    (cov_ckxu6mrex().s[45]++, JSON.parse(JSON.stringify(updatedSetting)));
    /* istanbul ignore next */
    cov_ckxu6mrex().s[46]++;
    globalForSettings.cachedSettings = parsedSetting;
    /* istanbul ignore next */
    cov_ckxu6mrex().s[47]++;
    return {
      success: true,
      message: 'Setting updated successfully',
      data: parsedSetting
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[48]++;
    console.error('Error updating settings:', error);
    /* istanbul ignore next */
    cov_ckxu6mrex().s[49]++;
    return {
      success: false,
      message: (0, _utils.formatError)(error)
    };
  }
}
async function setCurrencyOnServer(newCurrency) {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[12]++;
  cov_ckxu6mrex().s[50]++;
  try {
    const cookieStore =
    /* istanbul ignore next */
    (cov_ckxu6mrex().s[51]++, await (0, _headers.cookies)());
    /* istanbul ignore next */
    cov_ckxu6mrex().s[52]++;
    cookieStore.set('currency', newCurrency, {
      path: '/',
      maxAge: 60 * 60 * 24 * 30,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'lax'
    });
    /* istanbul ignore next */
    cov_ckxu6mrex().s[53]++;
    return {
      success: true,
      message: 'Currency updated successfully'
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_ckxu6mrex().s[54]++;
    console.error('Error setting currency:', error);
    /* istanbul ignore next */
    cov_ckxu6mrex().s[55]++;
    return {
      success: false,
      message: (0, _utils.formatError)(error)
    };
  }
}
async function clearSettingsCache() {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[13]++;
  cov_ckxu6mrex().s[56]++;
  globalForSettings.cachedSettings = null;
  /* istanbul ignore next */
  cov_ckxu6mrex().s[57]++;
  return {
    success: true,
    message: 'Cache cleared successfully'
  };
}
async function getSettingWithOptions(options =
/* istanbul ignore next */
(cov_ckxu6mrex().b[10][0]++, {})) {
  /* istanbul ignore next */
  cov_ckxu6mrex().f[14]++;
  const settings =
  /* istanbul ignore next */
  (cov_ckxu6mrex().s[58]++, options.bypassCache ?
  /* istanbul ignore next */
  (cov_ckxu6mrex().b[11][0]++, await getNoCachedSetting()) :
  /* istanbul ignore next */
  (cov_ckxu6mrex().b[11][1]++, await getSetting()));
  /* istanbul ignore next */
  cov_ckxu6mrex().s[59]++;
  return ensureSettings(settings);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfY2t4dTZtcmV4IiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiY2xlYXJTZXR0aW5nc0NhY2hlIiwiZiIsImdldE5vQ2FjaGVkU2V0dGluZyIsImdldFNldHRpbmciLCJnZXRTZXR0aW5nV2l0aE9wdGlvbnMiLCJzZXRDdXJyZW5jeU9uU2VydmVyIiwidXBkYXRlU2V0dGluZyIsImdsb2JhbEZvclNldHRpbmdzIiwiZ2xvYmFsIiwiY2FjaGVkU2V0dGluZ3MiLCJiIiwiREVGQVVMVF9TRVRUSU5HUyIsInNpdGUiLCJuYW1lIiwic2xvZ2FuIiwiZGVzY3JpcHRpb24iLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBQX1VSTCIsImVtYWlsIiwiYWRkcmVzcyIsInBob25lIiwibG9nbyIsImtleXdvcmRzIiwiYXV0aG9yIiwiY29weXJpZ2h0IiwiY29tbW9uIiwicGFnZVNpemUiLCJpc01haW50ZW5hbmNlTW9kZSIsImZyZWVTaGlwcGluZ01pblByaWNlIiwiZGVmYXVsdFRoZW1lIiwiZGVmYXVsdENvbG9yIiwiYXZhaWxhYmxlTGFuZ3VhZ2VzIiwiY29kZSIsImNhcm91c2VscyIsImRlZmF1bHRMYW5ndWFnZSIsImF2YWlsYWJsZUN1cnJlbmNpZXMiLCJzeW1ib2wiLCJjb252ZXJ0UmF0ZSIsImRlZmF1bHRDdXJyZW5jeSIsImF2YWlsYWJsZVBheW1lbnRNZXRob2RzIiwiY29tbWlzc2lvbiIsImRlZmF1bHRQYXltZW50TWV0aG9kIiwiYXZhaWxhYmxlRGVsaXZlcnlEYXRlcyIsImRheXNUb0RlbGl2ZXIiLCJzaGlwcGluZ1ByaWNlIiwiZGVmYXVsdERlbGl2ZXJ5RGF0ZSIsImVuc3VyZVNldHRpbmdzIiwic2V0dGluZ3MiLCJfZGIiLCJjb25uZWN0VG9EYXRhYmFzZSIsInNldHRpbmciLCJfc2V0dGluZ21vZGVsIiwiZGVmYXVsdCIsImZpbmRPbmUiLCJsZWFuIiwiZXJyb3IiLCJjb25zb2xlIiwiX3JlYWN0IiwiY2FjaGUiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJzZXR0aW5nc1RvQ2FjaGUiLCJfZGF0YSIsIm5ld1NldHRpbmciLCJ1cGRhdGVkU2V0dGluZyIsImZpbmRPbmVBbmRVcGRhdGUiLCJ1cHNlcnQiLCJuZXciLCJFcnJvciIsInBhcnNlZFNldHRpbmciLCJzdWNjZXNzIiwibWVzc2FnZSIsImRhdGEiLCJfdXRpbHMiLCJmb3JtYXRFcnJvciIsIm5ld0N1cnJlbmN5IiwiY29va2llU3RvcmUiLCJfaGVhZGVycyIsImNvb2tpZXMiLCJzZXQiLCJwYXRoIiwibWF4QWdlIiwic2VjdXJlIiwiTk9ERV9FTlYiLCJzYW1lU2l0ZSIsIm9wdGlvbnMiLCJieXBhc3NDYWNoZSJdLCJzb3VyY2VzIjpbIi9ob21lL2hhZ2VyL25ldy9teS1uZXh0anMtcHJvamVjdC1tYXN0ZXIgKDMpL215LW5leHRqcy1wcm9qZWN0LW1hc3Rlci9saWIvYWN0aW9ucy9zZXR0aW5nLmFjdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzZXJ2ZXInO1xuXG5pbXBvcnQgeyBjYWNoZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IElTZXR0aW5nSW5wdXQgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCBkYXRhIGZyb20gJy4uL2RhdGEnO1xuaW1wb3J0IFNldHRpbmcgZnJvbSAnLi4vZGIvbW9kZWxzL3NldHRpbmcubW9kZWwnO1xuaW1wb3J0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSBmcm9tICcuLi9kYic7XG5pbXBvcnQgeyBmb3JtYXRFcnJvciB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuXG4vLyBUeXBlIGZvciByZXNwb25zZXNcbmludGVyZmFjZSBTZXR0aW5nUmVzcG9uc2U8VCA9IHZvaWQ+IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkYXRhPzogVDtcbn1cblxuLy8gR2xvYmFsIGNhY2hlIGZvciBzZXR0aW5nc1xuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgY2FjaGVkU2V0dGluZ3M6IElTZXR0aW5nSW5wdXQgfCBudWxsIHwgdW5kZWZpbmVkO1xufVxuY29uc3QgZ2xvYmFsRm9yU2V0dGluZ3MgPSBnbG9iYWwgYXMgeyBjYWNoZWRTZXR0aW5nczogSVNldHRpbmdJbnB1dCB8IG51bGwgfCB1bmRlZmluZWQgfTtcbmdsb2JhbEZvclNldHRpbmdzLmNhY2hlZFNldHRpbmdzID0gZ2xvYmFsRm9yU2V0dGluZ3MuY2FjaGVkU2V0dGluZ3MgfHwgbnVsbDtcblxuLy8gRGVmYXVsdCBzZXR0aW5ncyBvYmplY3RcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IElTZXR0aW5nSW5wdXQgPSB7XG4gIHNpdGU6IHtcbiAgICBuYW1lOiAnTUdab24nLFxuICAgIHNsb2dhbjogJ1lvdXIgVWx0aW1hdGUgU2hvcHBpbmcgRGVzdGluYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnU2hvcCBvbmxpbmUgZm9yIHRoZSBiZXN0IHByb2R1Y3RzIGF0IGdyZWF0IHByaWNlcycsXG4gICAgdXJsOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMIHx8ICdodHRwczovL2hhZ2VyLXpvbi52ZXJjZWwuYXBwJyxcbiAgICBlbWFpbDogJ3N1cHBvcnRAbWd6b24uY29tJyxcbiAgICBhZGRyZXNzOiAnMTIzIE1haW4gU3QnLFxuICAgIHBob25lOiAnKzEyMzQ1Njc4OTAnLFxuICAgIGxvZ286ICdpY29ucy9sb2dvLnN2ZycsXG4gICAga2V5d29yZHM6ICdlY29tbWVyY2UsIHNob3BwaW5nJyxcbiAgICBhdXRob3I6ICdNR1pvbiBUZWFtJyxcbiAgICBjb3B5cmlnaHQ6ICfCqSAyMDI0IE1HWm9uJyxcbiAgfSxcbiAgY29tbW9uOiB7XG4gICAgcGFnZVNpemU6IDksXG4gICAgaXNNYWludGVuYW5jZU1vZGU6IGZhbHNlLFxuICAgIGZyZWVTaGlwcGluZ01pblByaWNlOiAwLFxuICAgIGRlZmF1bHRUaGVtZTogJ2xpZ2h0JyxcbiAgICBkZWZhdWx0Q29sb3I6ICdnb2xkJyxcbiAgfSxcbiAgYXZhaWxhYmxlTGFuZ3VhZ2VzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ0VuZ2xpc2gnLFxuICAgICAgY29kZTogJ2VuLVVTJyxcbiAgICB9LFxuICBdLFxuICBjYXJvdXNlbHM6IFtdLFxuICBkZWZhdWx0TGFuZ3VhZ2U6ICdlbi1VUycsXG4gIGF2YWlsYWJsZUN1cnJlbmNpZXM6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnVVMgRG9sbGFyJyxcbiAgICAgIGNvZGU6ICdVU0QnLFxuICAgICAgc3ltYm9sOiAnJCcsXG4gICAgICBjb252ZXJ0UmF0ZTogMSxcbiAgICB9LFxuICBdLFxuICBkZWZhdWx0Q3VycmVuY3k6ICdVU0QnLFxuICBhdmFpbGFibGVQYXltZW50TWV0aG9kczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdDcmVkaXQgQ2FyZCcsXG4gICAgICBjb21taXNzaW9uOiAwLFxuICAgIH0sXG4gIF0sXG4gIGRlZmF1bHRQYXltZW50TWV0aG9kOiAnQ3JlZGl0IENhcmQnLFxuICBhdmFpbGFibGVEZWxpdmVyeURhdGVzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ1N0YW5kYXJkIFNoaXBwaW5nJyxcbiAgICAgIGRheXNUb0RlbGl2ZXI6IDMsXG4gICAgICBzaGlwcGluZ1ByaWNlOiAwLFxuICAgICAgZnJlZVNoaXBwaW5nTWluUHJpY2U6IDUwLFxuICAgIH0sXG4gIF0sXG4gIGRlZmF1bHREZWxpdmVyeURhdGU6ICdTdGFuZGFyZCBTaGlwcGluZycsXG59O1xuXG4vKipcbiAqIEVuc3VyZXMgc2V0dGluZ3MgYXJlIG5vdCBudWxsIGFuZCBoYXZlIHByb3BlciBkZWZhdWx0c1xuICovXG5mdW5jdGlvbiBlbnN1cmVTZXR0aW5ncyhzZXR0aW5nczogSVNldHRpbmdJbnB1dCB8IG51bGwgfCB1bmRlZmluZWQpOiBJU2V0dGluZ0lucHV0IHtcbiAgaWYgKCFzZXR0aW5ncyB8fCAhc2V0dGluZ3Muc2l0ZSkge1xuICAgIHJldHVybiB7IC4uLkRFRkFVTFRfU0VUVElOR1MgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLkRFRkFVTFRfU0VUVElOR1MsXG4gICAgLi4uc2V0dGluZ3MsXG4gICAgc2l0ZToge1xuICAgICAgLi4uREVGQVVMVF9TRVRUSU5HUy5zaXRlLFxuICAgICAgLi4uc2V0dGluZ3Muc2l0ZSxcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEdldCBzZXR0aW5ncyB3aXRob3V0IGNhY2hlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROb0NhY2hlZFNldHRpbmcoKTogUHJvbWlzZTxJU2V0dGluZ0lucHV0PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcbiAgICBjb25zdCBzZXR0aW5nID0gYXdhaXQgU2V0dGluZy5maW5kT25lKCkubGVhbigpO1xuICAgIHJldHVybiBlbnN1cmVTZXR0aW5ncyhzZXR0aW5nKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1bmNhY2hlZCBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgLi4uREVGQVVMVF9TRVRUSU5HUyB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IHNldHRpbmdzIHdpdGggY2FjaGUgKFJlYWN0IGNhY2hlKVxuICovXG5leHBvcnQgY29uc3QgZ2V0U2V0dGluZyA9IGNhY2hlKGFzeW5jICgpOiBQcm9taXNlPElTZXR0aW5nSW5wdXQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoZ2xvYmFsRm9yU2V0dGluZ3MuY2FjaGVkU2V0dGluZ3MpIHtcbiAgICAgIHJldHVybiBlbnN1cmVTZXR0aW5ncyhcbiAgICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShnbG9iYWxGb3JTZXR0aW5ncy5jYWNoZWRTZXR0aW5ncykpXG4gICAgICApO1xuICAgIH1cblxuICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG4gICAgY29uc3Qgc2V0dGluZyA9IGF3YWl0IFNldHRpbmcuZmluZE9uZSgpLmxlYW4oKTtcblxuICAgIGNvbnN0IHNldHRpbmdzVG9DYWNoZSA9IHNldHRpbmdcbiAgICAgID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzZXR0aW5nKSlcbiAgICAgIDogZGF0YS5zZXR0aW5ncz8uWzBdIHx8IHsgLi4uREVGQVVMVF9TRVRUSU5HUyB9O1xuXG4gICAgZ2xvYmFsRm9yU2V0dGluZ3MuY2FjaGVkU2V0dGluZ3MgPSBzZXR0aW5nc1RvQ2FjaGU7XG5cbiAgICByZXR1cm4gZW5zdXJlU2V0dGluZ3Moc2V0dGluZ3NUb0NhY2hlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgLi4uREVGQVVMVF9TRVRUSU5HUyB9O1xuICB9XG59KTtcblxuLyoqXG4gKiBVcGRhdGUgc2V0dGluZ3NcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNldHRpbmcoXG4gIG5ld1NldHRpbmc6IElTZXR0aW5nSW5wdXRcbik6IFByb21pc2U8U2V0dGluZ1Jlc3BvbnNlPElTZXR0aW5nSW5wdXQ+PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcbiAgICBjb25zdCB1cGRhdGVkU2V0dGluZyA9IGF3YWl0IFNldHRpbmcuZmluZE9uZUFuZFVwZGF0ZSh7fSwgbmV3U2V0dGluZywge1xuICAgICAgdXBzZXJ0OiB0cnVlLFxuICAgICAgbmV3OiB0cnVlLFxuICAgICAgbGVhbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGlmICghdXBkYXRlZFNldHRpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBzZXR0aW5ncycpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnNlZFNldHRpbmcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRTZXR0aW5nKSk7XG4gICAgZ2xvYmFsRm9yU2V0dGluZ3MuY2FjaGVkU2V0dGluZ3MgPSBwYXJzZWRTZXR0aW5nO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnU2V0dGluZyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICBkYXRhOiBwYXJzZWRTZXR0aW5nLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGZvcm1hdEVycm9yKGVycm9yKSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlIGN1cnJlbmN5IGluIGNvb2tpZXNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldEN1cnJlbmN5T25TZXJ2ZXIoXG4gIG5ld0N1cnJlbmN5OiBzdHJpbmdcbik6IFByb21pc2U8U2V0dGluZ1Jlc3BvbnNlPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG4gICAgY29va2llU3RvcmUuc2V0KCdjdXJyZW5jeScsIG5ld0N1cnJlbmN5LCB7XG4gICAgICBwYXRoOiAnLycsXG4gICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDMwLCAvLyAzMCBkYXlzXG4gICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdDdXJyZW5jeSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIGN1cnJlbmN5OicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBmb3JtYXRFcnJvcihlcnJvciksXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFyIHNldHRpbmdzIGNhY2hlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhclNldHRpbmdzQ2FjaGUoKTogUHJvbWlzZTxTZXR0aW5nUmVzcG9uc2U+IHtcbiAgZ2xvYmFsRm9yU2V0dGluZ3MuY2FjaGVkU2V0dGluZ3MgPSBudWxsO1xuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnQ2FjaGUgY2xlYXJlZCBzdWNjZXNzZnVsbHknIH07XG59XG5cbi8qKlxuICogR2V0IHNldHRpbmdzIHdpdGggb3B0aW9uYWwgY2FjaGUgYnlwYXNzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXR0aW5nV2l0aE9wdGlvbnMoXG4gIG9wdGlvbnM6IHsgYnlwYXNzQ2FjaGU/OiBib29sZWFuIH0gPSB7fVxuKTogUHJvbWlzZTxJU2V0dGluZ0lucHV0PiB7XG4gIGNvbnN0IHNldHRpbmdzID0gb3B0aW9ucy5ieXBhc3NDYWNoZVxuICAgID8gYXdhaXQgZ2V0Tm9DYWNoZWRTZXR0aW5nKClcbiAgICA6IGF3YWl0IGdldFNldHRpbmcoKTtcbiAgcmV0dXJuIGVuc3VyZVNldHRpbmdzKHNldHRpbmdzKTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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