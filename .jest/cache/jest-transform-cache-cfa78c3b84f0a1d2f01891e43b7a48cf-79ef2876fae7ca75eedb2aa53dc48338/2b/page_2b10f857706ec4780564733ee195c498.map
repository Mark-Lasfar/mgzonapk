{"version":3,"names":["SellerNotificationsSettingsPage","params","cov_w6q3sqnrj","f","t","s","_server","getTranslations","locale","session","_auth","auth","user","b","_navigation","redirect","sellerResult","_selleractions","getSellerByUserId","id","success","data","_jsxruntime","jsxs","className","jsx","seller","subscription","status","formSchema","_zod1","object","email","boolean","sms","orderUpdates","marketingEmails","pointsNotifications","handleSubmit","formData","result","updateSellerSettings","settings","notifications","_card","Card","CardHeader","CardTitle","_lucidereact","Bell","CardContent","_form","Form","_reacthookform","useForm","resolver","_zod","zodResolver","defaultValues","action","FormField","name","render","field","FormItem","FormControl","_checkbox","Checkbox","checked","value","onCheckedChange","onChange","FormLabel","_button","Button","type"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/seller/dashboard/settings/notifications/page.tsx"],"sourcesContent":["import { getTranslations } from \"next-intl/server\";\nimport { auth } from \"@/auth\";\nimport { redirect } from \"next/navigation\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { getSellerByUserId, updateSellerSettings } from \"@/lib/actions/seller.actions\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Form, FormControl, FormField, FormItem, FormLabel } from \"@/components/ui/form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useForm } from \"react-hook-form\";\nimport * as z from \"zod\";\nimport { Bell } from \"lucide-react\";\n\nexport default async function SellerNotificationsSettingsPage({\n  params,\n}: {\n  params: Promise<{ locale: string }>;\n}) {\n  const t = await getTranslations(\"SellerDashboard\");\n  const { locale } = await params;\n  const session = await auth();\n\n  if (!session?.user) {\n    redirect(`/${locale}/sign-in`);\n  }\n\n  const sellerResult = await getSellerByUserId(session.user.id, locale);\n  if (!sellerResult.success || !sellerResult.data) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\">{t(\"notificationSettings\")}</h1>\n        <p className=\"text-red-600\">{t(\"errors.sellerNotFound\")}</p>\n      </div>\n    );\n  }\n\n  const seller = sellerResult.data;\n\n  if (seller.subscription?.status !== \"active\") {\n    redirect(`/${locale}/seller/dashboard/settings`);\n  }\n\n  // Define form schema\n  const formSchema = z.object({\n    email: z.boolean(),\n    sms: z.boolean(),\n    orderUpdates: z.boolean(),\n    marketingEmails: z.boolean(),\n    pointsNotifications: z.boolean(),\n  });\n\n  // Server Action to handle form submission\n  async function handleSubmit(formData: z.infer<typeof formSchema>) {\n    \"use server\";\n    const result = await updateSellerSettings(session.user.id, {\n      settings: {\n        notifications: formData,\n      },\n    });\n    return result;\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bell className=\"h-5 w-5\" />\n            {t(\"notificationSettings\")}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Form {...useForm({\n            resolver: zodResolver(formSchema),\n            defaultValues: seller.settings.notifications,\n          })}>\n            <form action={handleSubmit} className=\"space-y-6\">\n              <FormField\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center space-x-2\">\n                    <FormControl>\n                      <Checkbox checked={field.value} onCheckedChange={field.onChange} />\n                    </FormControl>\n                    <FormLabel>{t(\"notifications.email\")}</FormLabel>\n                  </FormItem>\n                )}\n              />\n              <FormField\n                name=\"sms\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center space-x-2\">\n                    <FormControl>\n                      <Checkbox checked={field.value} onCheckedChange={field.onChange} />\n                    </FormControl>\n                    <FormLabel>{t(\"notifications.sms\")}</FormLabel>\n                  </FormItem>\n                )}\n              />\n              <FormField\n                name=\"orderUpdates\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center space-x-2\">\n                    <FormControl>\n                      <Checkbox checked={field.value} onCheckedChange={field.onChange} />\n                    </FormControl>\n                    <FormLabel>{t(\"notifications.orderUpdates\")}</FormLabel>\n                  </FormItem>\n                )}\n              />\n              <FormField\n                name=\"marketingEmails\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center space-x-2\">\n                    <FormControl>\n                      <Checkbox checked={field.value} onCheckedChange={field.onChange} />\n                    </FormControl>\n                    <FormLabel>{t(\"notifications.marketingEmails\")}</FormLabel>\n                  </FormItem>\n                )}\n              />\n              <FormField\n                name=\"pointsNotifications\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center space-x-2\">\n                    <FormControl>\n                      <Checkbox checked={field.value} onCheckedChange={field.onChange} />\n                    </FormControl>\n                    <FormLabel>{t(\"notifications.pointsNotifications\")}</FormLabel>\n                  </FormItem>\n                )}\n              />\n              <Button type=\"submit\">{t(\"submit\")}</Button>\n            </form>\n          </Form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}