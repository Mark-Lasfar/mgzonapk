{"version":3,"names":["default","cov_11ko8o4fje","f","s","SellersPage","metadata","title","params","locale","searchParams","t","_nextintl","useTranslations","session","_auth","auth","b","user","role","_navigation","redirect","page","parseInt","search","status","sellersResult","_selleractions","getAllSellers","limit","sortBy","sortOrder","success","_jsxruntime","jsx","defaultMessage","sellers","pagination","data","jsxs","className","_card","Card","CardHeader","CardTitle","CardContent","_input","Input","name","placeholder","defaultValue","_button","Button","type","_table","Table","TableHeader","TableRow","TableHead","TableBody","map","seller","TableCell","businessName","email","subscription","plan","_link","href","customSiteUrl","variant","_id","start","end","Math","min","total","pages"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/sellers/page.tsx"],"sourcesContent":["import { auth } from '@/auth';\nimport { getAllSellers } from '@/lib/actions/seller.actions';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useTranslations } from 'next-intl';\nimport { redirect } from 'next/navigation';\nimport { Metadata } from 'next';\nimport Link from 'next/link';\n\nexport const metadata: Metadata = {\n  title: 'admin.sellers.title',\n};\n\nexport default async function SellersPage({\n  params: { locale },\n  searchParams,\n}: {\n  params: { locale: string };\n  searchParams: { page?: string; search?: string; status?: string };\n}) {\n  const t = await useTranslations('Sellers');\n  const session = await auth();\n  if (!session?.user || session.user.role !== 'Admin') {\n    redirect('/sign-in');\n  }\n\n  const page = parseInt(searchParams.page || '1', 10);\n  const search = searchParams.search || '';\n  const status = searchParams.status as 'active' | 'expired' | 'cancelled' | 'pending' | 'suspended' | undefined;\n\n  const sellersResult = await getAllSellers(\n    { page, limit: 10, search, status, sortBy: 'createdAt', sortOrder: 'desc' },\n    locale\n  );\n\n  if (!sellersResult.success) {\n    return <div>{t('error', { defaultMessage: 'Failed to load sellers' })}</div>;\n  }\n\n  const { sellers, pagination } = sellersResult.data;\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-4\">\n      <h1 className=\"h1-bold py-4\">{t('title')}</h1>\n      <Card>\n        <CardHeader>\n          <CardTitle>{t('manageSellers')}</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form className=\"mb-4 flex gap-4\">\n            <Input\n              name=\"search\"\n              placeholder={t('searchPlaceholder')}\n              defaultValue={search}\n              className=\"max-w-sm\"\n            />\n            <Button type=\"submit\">{t('search')}</Button>\n          </form>\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>{t('businessName')}</TableHead>\n                <TableHead>{t('email')}</TableHead>\n                <TableHead>{t('subscriptionPlan')}</TableHead>\n                <TableHead>{t('status')}</TableHead>\n                <TableHead>{t('actions')}</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {sellers.map((seller) => (\n                <TableRow key={seller._id}>\n                  <TableCell>{seller.businessName}</TableCell>\n                  <TableCell>{seller.email}</TableCell>\n                  <TableCell>{seller.subscription.plan}</TableCell>\n                  <TableCell>{seller.subscription.status}</TableCell>\n                  <TableCell>\n                    <Link href={`/${locale}/${seller.customSiteUrl}`}>\n                      <Button variant=\"outline\">{t('view')}</Button>\n                    </Link>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <div className=\"mt-4 flex justify-between\">\n            <p>\n              {t('showing', {\n                start: (pagination.page - 1) * pagination.limit + 1,\n                end: Math.min(pagination.page * pagination.limit, pagination.total),\n                total: pagination.total,\n              })}\n            </p>\n            <div className=\"flex gap-2\">\n              {pagination.page > 1 && (\n                <Link href={`?page=${pagination.page - 1}&search=${search}`}>\n                  <Button>{t('previous')}</Button>\n                </Link>\n              )}\n              {pagination.page < pagination.pages && (\n                <Link href={`?page=${pagination.page + 1}&search=${search}`}>\n                  <Button>{t('next')}</Button>\n                </Link>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}