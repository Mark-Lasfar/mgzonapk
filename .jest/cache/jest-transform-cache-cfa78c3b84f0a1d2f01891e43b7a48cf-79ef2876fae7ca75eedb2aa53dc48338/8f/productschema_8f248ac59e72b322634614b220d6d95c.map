{"version":3,"names":["cov_17vjdjrggb","actualCoverage","s","generateProductSchema","product","f","site","url","name","siteName","_settingactions","getSetting","baseUrl","b","description","image","images","map","img","startsWith","sku","brand","offers","price","priceCurrency","currency","availability","seller","rating","aggregateRating","ratingValue","average","reviewCount","count"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/lib/seo/product-schema.ts"],"sourcesContent":["import { getSetting } from '../actions/setting.actions'\n\nexport async function generateProductSchema(product: {\n  name: string\n  description: string\n  images: string[]\n  price: number\n  currency: string\n  sku: string\n  category: string\n  brand?: string\n  rating?: {\n    average: number\n    count: number\n  }\n}) {\n  const {\n    site: { url, name: siteName },\n  } = await getSetting()\n  const baseUrl = url || 'https://hager-zon.vercel.app'\n\n  return {\n    '@context': 'https://schema.org',\n    '@type': 'Product',\n    name: product.name,\n    description: product.description,\n    image: product.images.map((img) =>\n      img.startsWith('http') ? img : `${baseUrl}${img}`\n    ),\n    sku: product.sku,\n    brand: {\n      '@type': 'Brand',\n      name: product.brand || siteName,\n    },\n    offers: {\n      '@type': 'Offer',\n      price: product.price,\n      priceCurrency: product.currency,\n      availability: 'https://schema.org/InStock',\n      url: `${baseUrl}/product/${product.sku}`,\n      seller: {\n        '@type': 'Organization',\n        name: siteName,\n      },\n    },\n    ...(product.rating && {\n      aggregateRating: {\n        '@type': 'AggregateRating',\n        ratingValue: product.rating.average,\n        reviewCount: product.rating.count,\n      },\n    }),\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAsBI;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BApBkB;;;;;;WAAAC,qBAAA;;;;;kCAFK;AAEpB,eAAeA,sBAAsBC,OAa3C;EAAA;EAAAJ,cAAA,GAAAK,CAAA;EACC,MAAM;IACJC,IAAA,EAAM;MAAEC,GAAG;MAAEC,IAAA,EAAMC;IAAQ;EAAE,CAC9B;EAAA;EAAA,CAAAT,cAAA,GAAAE,CAAA,OAAG,MAAM,IAAAQ,eAAA,CAAAC,UAAU;EACpB,MAAMC,OAAA;EAAA;EAAA,CAAAZ,cAAA,GAAAE,CAAA;EAAU;EAAA,CAAAF,cAAA,GAAAa,CAAA,UAAAN,GAAA;EAAA;EAAA,CAAAP,cAAA,GAAAa,CAAA,UAAO;EAAA;EAAAb,cAAA,GAAAE,CAAA;EAEvB,OAAO;IACL,YAAY;IACZ,SAAS;IACTM,IAAA,EAAMJ,OAAA,CAAQI,IAAI;IAClBM,WAAA,EAAaV,OAAA,CAAQU,WAAW;IAChCC,KAAA,EAAOX,OAAA,CAAQY,MAAM,CAACC,GAAG,CAAEC,GAAA,IACzB;MAAA;MAAAlB,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAE,CAAA;MAAA,OAAAgB,GAAA,CAAIC,UAAU,CAAC;MAAA;MAAA,CAAAnB,cAAA,GAAAa,CAAA,UAAUK,GAAA;MAAA;MAAA,CAAAlB,cAAA,GAAAa,CAAA,UAAM,GAAGD,OAAA,GAAUM,GAAA,EAAK;IAAL,CAAK;IAEnDE,GAAA,EAAKhB,OAAA,CAAQgB,GAAG;IAChBC,KAAA,EAAO;MACL,SAAS;MACTb,IAAA;MAAM;MAAA,CAAAR,cAAA,GAAAa,CAAA,UAAAT,OAAA,CAAQiB,KAAK;MAAA;MAAA,CAAArB,cAAA,GAAAa,CAAA,UAAIJ,QAAA;IACzB;IACAa,MAAA,EAAQ;MACN,SAAS;MACTC,KAAA,EAAOnB,OAAA,CAAQmB,KAAK;MACpBC,aAAA,EAAepB,OAAA,CAAQqB,QAAQ;MAC/BC,YAAA,EAAc;MACdnB,GAAA,EAAK,GAAGK,OAAA,YAAmBR,OAAA,CAAQgB,GAAG,EAAE;MACxCO,MAAA,EAAQ;QACN,SAAS;QACTnB,IAAA,EAAMC;MACR;IACF;IACA;IAAI;IAAA,CAAAT,cAAA,GAAAa,CAAA,UAAAT,OAAA,CAAQwB,MAAM;IAAA;IAAA,CAAA5B,cAAA,GAAAa,CAAA,UAAI;MACpBgB,eAAA,EAAiB;QACf,SAAS;QACTC,WAAA,EAAa1B,OAAA,CAAQwB,MAAM,CAACG,OAAO;QACnCC,WAAA,EAAa5B,OAAA,CAAQwB,MAAM,CAACK;MAC9B;IACF,CAAC;EACH;AACF","ignoreList":[]}