{"version":3,"names":["SellersPage","params","searchParams","cov_i38vwbhy5","f","t","s","_server","getTranslations","resolvedParams","resolvedSearchParams","session","_auth","auth","b","user","role","_navigation","redirect","locale","page","parseInt","search","pageSize","result","_selleractions","getAllSellers","limit","success","_jsxruntime","jsxs","className","jsx","error","sellers","pagination","data","total","start","end","Math","min","totalPages","pages","action","method","type","name","placeholder","defaultValue","length","Fragment","map","seller","businessName","email","subscription","plan","status","_link","default","href","encodeURIComponent","_id"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(admin)/admin/sellers/page.tsx"],"sourcesContent":["// app/[locale]/(admin)/admin/sellers/page.tsx\nimport { getTranslations } from \"next-intl/server\";\nimport { auth } from \"@/auth\";\nimport Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\nimport { getAllSellers } from \"@/lib/actions/seller.actions\";\n\nexport default async function SellersPage({\n  params,\n  searchParams,\n}: {\n  params: Promise<{ locale: string }>;\n  searchParams: Promise<{ page?: string; search?: string }>;\n}) {\n  const t = await getTranslations(\"Admin.sellers\");\n  const resolvedParams = await params;\n  const resolvedSearchParams = await searchParams;\n  const session = await auth();\n\n  if (!session?.user || session.user.role !== \"Admin\") {\n    redirect(`/${resolvedParams.locale}/sign-in`);\n  }\n\n  const page = parseInt(resolvedSearchParams.page || \"1\", 10);\n  const search = resolvedSearchParams.search || \"\";\n  const pageSize = 10;\n\n  const result = await getAllSellers({ page, limit: pageSize, search });\n\n  if (!result.success) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\">{t(\"title\")}</h1>\n        <p>{t(\"error\")}: {result.error}</p>\n      </div>\n    );\n  }\n\n  const { sellers, pagination } = result.data;\n  const total = pagination.total;\n\n  const start = (page - 1) * pageSize + 1;\n  const end = Math.min(page * pageSize, total);\n  const totalPages = pagination.pages;\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-3xl font-bold mb-6\">{t(\"title\")}</h1>\n      <div className=\"mb-4\">\n        <form action={`/${resolvedParams.locale}/admin/sellers`} method=\"GET\" className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            name=\"search\"\n            placeholder={t(\"searchPlaceholder\")}\n            defaultValue={search}\n            className=\"border rounded-lg px-4 py-2 w-full md:w-1/3\"\n          />\n          <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded-lg\">\n            {t(\"search\")}\n          </button>\n        </form>\n      </div>\n      {sellers.length === 0 ? (\n        <p>{t(\"noSellers\")}</p>\n      ) : (\n        <>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full border-collapse\">\n              <thead>\n                <tr className=\"bg-gray-100\">\n                  <th className=\"border px-4 py-2 text-left\">{t(\"businessName\")}</th>\n                  <th className=\"border px-4 py-2 text-left\">{t(\"email\")}</th>\n                  <th className=\"border px-4 py-2 text-left\">{t(\"subscriptionPlan\")}</th>\n                  <th className=\"border px-4 py-2 text-left\">{t(\"status\")}</th>\n                  <th className=\"border px-4 py-2 text-left\">{t(\"actions\")}</th>\n                </tr>\n              </thead>\n              <tbody>\n                {sellers.map((seller) => (\n                  <tr key={seller._id} className=\"hover:bg-gray-50\">\n                    <td className=\"border px-4 py-2\">{seller.businessName}</td>\n                    <td className=\"border px-4 py-2\">{seller.email}</td>\n                    <td className=\"border px-4 py-2\">{seller.subscription?.plan || \"Free\"}</td>\n                    <td className=\"border px-4 py-2\">{seller.subscription?.status || \"pending\"}</td>\n                    <td className=\"border px-4 py-2\">\n                      <Link\n                        href={`/${resolvedParams.locale}/admin/sellers/${encodeURIComponent(seller.businessName)}`}\n                        className=\"text-blue-600 hover:underline\"\n                      >\n                        {t(\"view\")}\n                      </Link>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          <div className=\"mt-4 flex justify-between items-center\">\n            <p>\n              {t(\"showing\", { start, end, total })}\n            </p>\n            <div className=\"flex gap-2\">\n              {page > 1 && (\n                <Link\n                  href={`/${resolvedParams.locale}/admin/sellers?page=${page - 1}${search ? `&search=${search}` : \"\"}`}\n                  className=\"bg-gray-200 px-4 py-2 rounded-lg\"\n                >\n                  {t(\"previous\")}\n                </Link>\n              )}\n              {page < totalPages && (\n                <Link\n                  href={`/${resolvedParams.locale}/admin/sellers?page=${page + 1}${search ? `&search=${search}` : \"\"}`}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg\"\n                >\n                  {t(\"next\")}\n                </Link>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}