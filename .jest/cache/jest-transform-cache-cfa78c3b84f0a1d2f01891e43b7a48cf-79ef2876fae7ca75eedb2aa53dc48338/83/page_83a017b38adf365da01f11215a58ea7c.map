{"version":3,"names":["default","cov_xf0uxbm85","f","s","ProfilePage","metadata","PAGE_TITLE","title","user","headersList","_headers","headers","token","_jwt","getToken","req","secret","process","env","NEXTAUTH_SECRET","b","name","email","error","console","Error","_jsxruntime","jsx","jsxs","className","_link","href","_card","Card","CardContent","_button","Button","variant","_separator","Separator","disabled"],"sources":["/home/hager/new/my-nextjs-project-master (3)/my-nextjs-project-master/app/[locale]/(root)/account/manage/page.tsx"],"sourcesContent":["import { Metadata } from 'next';\n// import { getToken } from \"next-auth/jwt\";\nimport { headers } from 'next/headers'; // لجلب الهيدر بشكل متزامن\nimport Link from 'next/link';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Separator } from '@/components/ui/separator';\nimport { Button } from '@/components/ui/button';\nimport { getToken } from 'next-auth/jwt';\n\nconst PAGE_TITLE = 'Login & Security';\nexport const metadata: Metadata = {\n  title: PAGE_TITLE,\n};\n\nexport default async function ProfilePage() {\n  let user;\n\n  try {\n    const headersList = headers(); // جلب الهيدر من الطلب\n    const token = await getToken({ req: { headers: headersList }, secret: process.env.NEXTAUTH_SECRET }); // تمرير secret\n    if (token) {\n      user = {\n        name: token.name || \"Guest\",\n        email: token.email || \"Not provided\",\n      };\n    }\n  } catch (error) {\n    console.error(\"Error fetching token:\", error);\n    throw new Error(\"Unable to fetch session. Please check your configuration.\");\n  }\n\n  if (!user) {\n    return <div>User is not authenticated</div>;\n  }\n\n  return (\n    <div className=\"mb-24\">\n      <div className=\"flex gap-2 \">\n        <Link href=\"/account\">Your Account</Link>\n        <span>›</span>\n        <span>{PAGE_TITLE}</span>\n      </div>\n      <h1 className=\"h1-bold py-4\">{PAGE_TITLE}</h1>\n      <Card className=\"max-w-2xl \">\n        <CardContent className=\"p-4 flex justify-between flex-wrap\">\n          <div>\n            <h3 className=\"font-bold\">Name</h3>\n            <p>{user.name}</p>\n          </div>\n          <div>\n            <Link href=\"/account/manage/name\">\n              <Button className=\"rounded-full w-32\" variant=\"outline\">\n                Edit\n              </Button>\n            </Link>\n          </div>\n        </CardContent>\n        <Separator />\n        <CardContent className=\"p-4 flex justify-between flex-wrap\">\n          <div>\n            <h3 className=\"font-bold\">Email</h3>\n            <p>{user.email}</p>\n            <p>will be implemented in the next version</p>\n          </div>\n          <div>\n            <Link href=\"#\">\n              <Button disabled className=\"rounded-full w-32\" variant=\"outline\">\n                Edit\n              </Button>\n            </Link>\n          </div>\n        </CardContent>\n        <Separator />\n        <CardContent className=\"p-4 flex justify-between flex-wrap\">\n          <div>\n            <h3 className=\"font-bold\">Password</h3>\n            <p>************</p>\n            <p>will be implemented in the next version</p>\n          </div>\n          <div>\n            <Link href=\"#\">\n              <Button disabled className=\"rounded-full w-32\" variant=\"outline\">\n                Edit\n              </Button>\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}